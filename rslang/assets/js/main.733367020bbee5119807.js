(()=>{"use strict";var e={502:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},450:(e,t,n)=>{e.exports=n.p+"assets/icons/login.b31e2758908d4fc5c51c.svg"},359:(e,t,n)=>{e.exports=n.p+"assets/icons/logo-user.abe392c5a2b8adfece32.svg"},525:(e,t,n)=>{e.exports=n.p+"assets/icons/rsLang.c133bda85f88697c7868.svg"},748:(e,t,n)=>{e.exports=n.p+"assets/icons/rsschool.23efb210a555c7e87348.svg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../../"})(),n.b=document.baseURI||self.location.href,(()=>{var e=n(502),t=n.n(e),a=new URL(n(525),n.b),r=new URL(n(450),n.b),o=new URL(n(359),n.b),i=new URL(n(748),n.b);t()(a,{hash:"#rslang"}),t()(r,{hash:"#login-icon"}),t()(o,{hash:"#logo-user"}),t()(i,{hash:"#rsschool"});var s,c,u;function l(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function d(e,t){var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}function p(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{}}!function(e){e.UserData="userDataBasic"}(s||(s={})),function(e){e.MainID="main-page",e.SprintID="sprint-page",e.BookID="book-page",e.PreloaSprintID="preload-sprint",e.SprintStatiD="srpint-statistic",e.LogoIt="logo",e.StatisticId="statistics-page",e.NoWords="no-words"}(c||(c={})),function(e){e.userPage="userPageNow",e.numPage="currentPage",e.numGroup="currentGroup",e.allWords="allListWords",e.numGamePage="NumGamePage"}(u||(u={}));var f=function(e,t,n,a){var r,o=document.createElement(e);(n&&(r=o.classList).add.apply(r,n),a)&&Object.keys(a).forEach((function(e){o.setAttribute(e,a[e])}));return t&&t.append(o),o},v="https://rs-lang-team53.herokuapp.com/",h="".concat(v,"words"),g=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},m=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function b(e,t){return g(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(h,"?group=").concat(e,"&page=").concat(t))];case 1:return[2,n.sent().json()]}}))}))}function y(e,t,n){return g(this,void 0,void 0,(function(){return m(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,"/words/").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:return a.sent(),[2]}}))}))}function w(e,t,n){return g(this,void 0,void 0,(function(){return m(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,"/words/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:return a.sent(),[2]}}))}))}function k(e,t,n){return g(this,void 0,void 0,(function(){return m(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"$and":[{"group":').concat(t,', "page":').concat(n,"}]}&wordsPerPage=20"),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token)}})];case 1:return[4,a.sent().json()];case 2:return[2,a.sent()[0].paginatedResults]}}))}))}function L(e,t){return g(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return[4,b(e,t)];case 1:return[2,n.sent()]}}))}))}function _(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"userWord.difficulty":"hard"}&wordsPerPage=4000'),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()[0].paginatedResults]}}))}))}function W(e,t,n){return g(this,void 0,void 0,(function(){var a,r;return m(this,(function(o){switch(o.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"$and": [{"$or": [{"userWord.difficulty": "hard"},{"$and": [{"userWord.difficulty": "easy", "userWord.optional.statusLearn":"true"}]}], "group":').concat(t,', "page":').concat(n,"}]}&wordsPerPage=4000"),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"}})];case 1:return 200!==(a=o.sent()).status?[3,3]:[4,a.json()];case 2:return[2,(r=o.sent()[0].totalCount[0])?r.count:0];case 3:return[2,0]}}))}))}var T=document.querySelector("#main"),x=document.querySelector(".body");p("userDataBasic");function S(e,t){localStorage.setItem(e,JSON.stringify(t))}function M(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{}}S("timeDateReset","".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()));var G,D=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},A=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=M(s.UserData),I=function(e){return D(void 0,void 0,void 0,(function(){var t,n;return A(this,(function(a){switch(a.label){case 0:return t=[],n=[],[4,fetch("".concat(v,"users/").concat(E.userId,"/words"),{method:"GET",headers:{Authorization:"Bearer ".concat(E.token),Accept:"application/json"}})];case 1:return[4,a.sent().json()];case 2:return a.sent().forEach((function(e){"true"===e.optional.statusLearn&&n.push(e)})),0!==n.length?(e.forEach((function(e){var a=0;n.forEach((function(r){e.id!==r.wordId&&a++,a===n.length&&t.push(e)}))})),[2,t]):[2,e]}}))}))},H=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},P=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N={difficulty:"easy",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"false"}},j={learnedWords:1,optional:{sprintDayGuess:1,sprintAllDayWords:1,sprintMaxGuessed:1,"data-0":{},"data-1":{},"data-2":{},"data-3":{},"data-4":{},"data-5":{},"data-6":{}}},q=[],B=M(s.UserData);!function(e){e[e.pages=30]="pages"}(G||(G={}));function O(e){return H(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"words/").concat(e))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))}var U=function(e,t){return H(void 0,void 0,void 0,(function(){var n,a;return P(this,(function(r){switch(r.label){case 0:return void 0===(o=[{key:"page",value:t},{key:"group",value:e}])&&(o=[]),[4,O(o.length?"?".concat(o.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")):"")];case 1:return n=r.sent(),q.push(n),a=q.flat(),M(s.UserData).userId&&M(u.numGamePage).length>0?[4,I(a)]:[3,3];case 2:return S("allListWords",r.sent()),[3,4];case 3:S("allListWords",a),r.label=4;case 4:return[2]}var o}))}))};function C(e,t){return H(this,void 0,void 0,(function(){var n,a;return P(this,(function(r){if(S("allListWords",[]),q=[],n=Math.floor(Math.random()*G.pages),"number"==typeof t&&(n=t),n>=5)for(a=n-5;a<=n;a++)U(e,a);else if(n<5&&n>0)for(a=n-n;a<=n;a++)U(e,a);else U(e,n);return[2]}))}))}var z=function(e,t){return H(void 0,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/words/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return n.sent(),[2]}}))}))},R=function(e){return H(void 0,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"PUT",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return t.sent(),[2]}}))}))},J=function(){return H(void 0,void 0,void 0,(function(){var e,t,n,a;return P(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,'/aggregatedWords?filter={\n      "$and": [{"$and": [{"$or": [{"userWord.difficulty": "hard"},{"userWord.difficulty": "easy"}]}]},{"userWord.optional.statusLearn":"true"}]}&wordsPerPage=3600'),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return e=r.sent(),[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 2:return 404!==(t=r.sent()).status?[3,3]:(R({learnedWords:1,optional:{sprintDayGuess:0,sprintAllDayWords:0,sprintMaxGuessed:0}}),[3,7]);case 3:return[4,t.json()];case 4:return n=r.sent(),404!==e.status?[3,5]:(n.optional={sprintDayGuess:n.optional.sprintDayGuess,sprintAllDayWords:n.optional.sprintAllDayWords,sprintMaxGuessed:n.optional.sprintMaxGuessed},R({learnedWords:1,optional:n.optional}),[3,7]);case 5:return[4,e.json()];case 6:a=r.sent(),R({learnedWords:a[0].paginatedResults.length,optional:n.optional}),r.label=7;case 7:return[2]}}))}))},F=function(e,t){return H(void 0,void 0,void 0,(function(){var n;return P(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/words/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return 404!==(n=a.sent()).status?[3,2]:(t?(N.optional.gameGuessed=1,N.optional.gameMistake=0,N.optional.gameAllGuessWord=1,N.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())):(N.optional.gameGuessed=0,N.optional.gameMistake=1,N.optional.gameAllGuessWord=0,N.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())),function(e,t){H(this,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/words/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(B.token),"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return n.sent(),[2]}}))}))}(e,N),[3,6]);case 2:return t?[4,n.json()]:[3,4];case 3:return function(e,t){H(void 0,void 0,void 0,(function(){return P(this,(function(n){return e.optional.gameGuessed+=1,e.optional.gameAllGuessWord+=1,e.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),"easy"===e.difficulty&&e.optional.gameGuessed>=3&&(e.optional.statusLearn="true",e.optional.dataLearn="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),z(t,{optional:e.optional})),"hard"===e.difficulty&&e.optional.gameGuessed>=5&&(e.optional.statusLearn="true",e.difficulty="easy",e.optional.dataLearn="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())),z(t,{optional:e.optional}),J(),[2]}))}))}(a.sent(),e),[3,6];case 4:return[4,n.json()];case 5:(function(e,t){H(void 0,void 0,void 0,(function(){return P(this,(function(n){return e.optional.gameMistake+=1,e.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),"true"===e.optional.statusLearn&&(e.optional.statusLearn="false",e.optional.gameGuessed=0),z(t,{optional:e.optional}),[2]}))}))})(a.sent(),e),a.label=6;case 6:return[2]}}))}))};H(void 0,void 0,void 0,(function(){var e;return P(this,(function(t){switch(t.label){case 0:return M("timeDateReset")==="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())?[3,3]:[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return[4,t.sent().json()];case 2:(e=t.sent()).optional={sprintDayGuess:1,sprintAllDayWords:1,sprintMaxGuessed:1},R({learnedWords:e.learnedWords,optional:e.optional}),t.label=3;case 3:return[2]}}))}));var Y=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},$=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},K=p(s.UserData),Z=function(e,t,n){return Y(void 0,void 0,void 0,(function(){var a;return $(this,(function(r){switch(r.label){case 0:return a="",[4,fetch("".concat(v,"words/?group=").concat(e,"&&page=").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(K.token),Accept:"application/json"}})];case 1:return[4,r.sent().json()];case 2:return r.sent().forEach((function(e){e.word===n&&(a=e.id)})),[2,a]}}))}))},Q=function(e){return Y(void 0,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"users/").concat(K.userId,"/aggregatedWords/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(K.token),Accept:"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))};function V(e){var t;return Y(this,void 0,void 0,(function(){var n,a,r,o,i,s;return $(this,(function(c){switch(c.label){case 0:return n="",a=Number(p(u.numPage)),r=Number(p(u.numGroup)),void 0===(o=null===(t=e.querySelector("h3"))||void 0===t?void 0:t.innerHTML.split(" "))?[3,2]:[4,Z(r,a,o[0])];case 1:n=c.sent(),c.label=2;case 2:return[4,Q(n)];case 3:return i=c.sent(),s=i[0],"true"===e.getAttribute("data-WordLearned")?(e.classList.remove("cardLearned"),e.setAttribute("data-WordLearned","false"),[2,{difficulty:"easy",optional:{gameGuessed:s.userWord.optional.gameGuessed,gameMistake:s.userWord.optional.gameMistake,gameAllGuessWord:s.userWord.optional.gameAllGuessWord,statusLearn:"false"}}]):(e.classList.add("cardLearned"),e.setAttribute("data-WordLearned","true"),"false"===e.getAttribute("data-WordHard")&&(e.classList.remove("cardHard"),e.setAttribute("data-WordHard","false")),void 0===s.userWord?[2,{difficulty:"easy",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"true",dataLearn:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())}}]:[2,{difficulty:"easy",optional:{gameGuessed:s.userWord.optional.gameGuessed,gameMistake:s.userWord.optional.gameMistake,gameAllGuessWord:s.userWord.optional.gameAllGuessWord,statusLearn:"true",dataLearn:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())}}])}}))}))}function X(e,t,n){return Y(this,void 0,void 0,(function(){var a,r,o,i,s,c;return $(this,(function(u){switch(u.label){case 0:return a=d("currentGroup","0"),"true"!==t.getAttribute("data-wordUser")?[3,4]:[4,V(t)];case 1:return r=u.sent(),[4,y(n,e.id,r)];case 2:return u.sent(),[4,J()];case 3:case 7:case 10:return u.sent(),[3,12];case 4:return[4,Q(e.id)];case 5:switch(o=u.sent(),i=o[0],typeof i.userWord){case"undefined":return[3,6];case"object":return[3,8]}return[3,11];case 6:return s={difficulty:"easy",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"true",dataLearn:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())}},w(n,e.id,s),t.setAttribute("data-wordUser","true"),t.setAttribute("data-WordLearned","true"),t.setAttribute("data-WordHard","false"),t.classList.add("cardLearned"),[4,J()];case 8:return c={difficulty:"easy",optional:{gameGuessed:i.userWord.optional.gameGuessed,gameMistake:i.userWord.optional.gameMistake,gameAllGuessWord:i.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,c)];case 9:return u.sent(),t.setAttribute("data-wordUser","true"),t.setAttribute("data-WordLearned","true"),[4,J()];case 11:return[3,12];case 12:return t.classList.remove("cardHard"),t.setAttribute("data-WordHard","false"),6===Number(a)&&t.classList.add("display-none"),[2]}}))}))}function ee(e,t,n){return Y(this,void 0,void 0,(function(){var a,r,o,i,s;return $(this,(function(c){switch(c.label){case 0:return[4,Q(e.id)];case 1:return a=c.sent(),r=a[0],o=t.getAttribute("data-wordUser"),i=d("currentGroup","0"),"true"!==o?[3,25]:void 0!==r.userWord?[3,14]:"true"===t.getAttribute("data-WordHard")?[3,4]:(s={difficulty:"hard",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"false"}},[4,w(n,e.id,s)]);case 2:return c.sent(),[4,J()];case 3:return c.sent(),[3,10];case 4:return 6!==Number(i)?[3,7]:(s={difficulty:"easy",optional:{gameGuessed:r.userWord.optional.gameGuessed,gameMistake:r.userWord.optional.gameMistake,gameAllGuessWord:r.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)]);case 5:return c.sent(),[4,J()];case 6:return c.sent(),[3,10];case 7:return s={difficulty:"hard",optional:{gameGuessed:r.userWord.optional.gameGuessed,gameMistake:r.userWord.optional.gameMistake,gameAllGuessWord:r.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)];case 8:return c.sent(),t.setAttribute("data-wordUser","true"),[4,J()];case 9:c.sent(),c.label=10;case 10:return 6!==Number(i)?[3,11]:(t.classList.add("display-none"),[3,13]);case 11:return t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.classList.add("cardHard"),t.classList.remove("cardLearned"),[4,J()];case 12:c.sent(),c.label=13;case 13:return[3,24];case 14:return void 0===r.userWord?[3,24]:"true"===t.getAttribute("data-WordHard")?[3,17]:(s={difficulty:"hard",optional:{gameGuessed:r.userWord.optional.gameGuessed,gameMistake:r.userWord.optional.gameMistake,gameAllGuessWord:r.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)]);case 15:return c.sent(),[4,J()];case 16:return c.sent(),[3,23];case 17:return 6!==Number(i)?[3,20]:(s={difficulty:"easy",optional:{gameGuessed:r.userWord.optional.gameGuessed,gameMistake:r.userWord.optional.gameMistake,gameAllGuessWord:r.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)]);case 18:return c.sent(),[4,J()];case 19:return c.sent(),[3,23];case 20:return s={difficulty:"hard",optional:{gameGuessed:r.userWord.optional.gameGuessed,gameMistake:r.userWord.optional.gameMistake,gameAllGuessWord:r.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)];case 21:return c.sent(),t.setAttribute("data-wordUser","true"),[4,J()];case 22:c.sent(),c.label=23;case 23:6===Number(i)?(t.classList.add("display-none"),t.classList.remove("cardHard")):(t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.classList.add("cardHard"),t.classList.remove("cardLearned")),c.label=24;case 24:return[3,32];case 25:return void 0!==r.userWord?[3,29]:"true"===t.getAttribute("data-WordHard")?[3,28]:(s={difficulty:"hard",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"false"}},[4,w(n,e.id,s)]);case 26:return c.sent(),t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.setAttribute("data-wordUser","true"),t.classList.add("cardHard"),t.classList.remove("cardLearned"),[4,J()];case 27:c.sent(),c.label=28;case 28:return[3,32];case 29:return s={difficulty:"hard",optional:{gameGuessed:r.userWord.optional.gameGuessed,gameMistake:r.userWord.optional.gameMistake,gameAllGuessWord:r.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)];case 30:return c.sent(),t.setAttribute("data-wordUser","true"),t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.classList.add("cardHard"),t.classList.remove("cardLearned"),[4,J()];case 31:c.sent(),c.label=32;case 32:return[2]}}))}))}var te=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ne=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function ae(e,t,n,a){return te(this,void 0,void 0,(function(){var r,o,i,s,c,u,l,h,g,m,b,y,w,k,L,_,W=this;return ne(this,(function(T){return r=f("div",void 0,["cardWord","group-".concat(e.group+1)],{id:"cardWord-".concat(e.id)}),o=f("div",r,["multimediaBlock"]),i=f("div",o,["imgBlock"]),f("img",i,["imgWord"],{id:"imgWord-".concat(e.id),src:"".concat(v).concat(e.image)}),s=f("div",o,["buttonAdd"]),c=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.classList.add("imgAudio"),t.innerHTML='<use xlink:href="./assets/img/audio.svg#audio"></use>',t.addEventListener("click",(function(){var t=new Audio;t.src="".concat(v).concat(e.audio),t.autoplay=!0,t.addEventListener("ended",(function(){var t=new Audio;t.src="".concat(v).concat(e.audioMeaning),t.autoplay=!0,t.addEventListener("ended",(function(){var t=new Audio;t.src="".concat(v).concat(e.audioExample),t.autoplay=!0}))}))})),t}(e),s.append(c),(u=p("userDataBasic")).userId&&((l=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgLearn"),l.innerHTML='<use xlink:href="./assets/img/checkmark.svg#check"></use>',s.append(l),l.addEventListener("click",(function(){return te(W,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,X(e,r,u)];case 1:return t.sent(),[4,Te(Number(d("currentPage","0")))];case 2:return t.sent(),[2]}}))}))})),(h=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgHard"),h.innerHTML='<use xlink:href="./assets/img/kettlebell.svg#kettlebell"></use>',h.addEventListener("click",(function(){return te(W,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,ee(e,r,u)];case 1:return t.sent(),[4,Te(Number(d("currentPage","0")))];case 2:return t.sent(),[2]}}))}))})),s.append(h),"learned"===t&&r.classList.add("cardLearned"),"hard"===t&&r.classList.add("cardHard")),g=f("div",r,["word"]),m=f("div",g,["wordBlock"]),b=f("h3",m,["h3"]),u.userId&&(n||a)&&(y=f("div",m,["wordGameImg"]),w=f("div",y,["wordGameImgGuessed"]),(k=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgWordGame"),k.innerHTML='<use xlink:href="./assets/img/guessed.svg#guessed"></use>',w.append(k),f("span",w,["wordBlockCount"]).innerHTML=String(n),L=f("div",y,["wordGameImgGuessed"]),(_=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgWordGame"),_.innerHTML='<use xlink:href="./assets/img/mistake.svg#mistake"></use>',L.append(_),f("span",L,["wordGameImgGuessed"]).innerHTML=String(a)),b.innerHTML="".concat(e.word," (").concat(e.wordTranslate,")"),f("h4",g,["h4"]).innerHTML="".concat(e.transcription),f("p",g,["p"]).innerHTML="".concat(e.textMeaning),f("p",g,["p"]).innerHTML="".concat(e.textMeaningTranslate),f("p",g,["p"]).innerHTML="".concat(e.textExample),f("p",g,["p"]).innerHTML="".concat(e.textExampleTranslate),[2,r]}))}))}function re(e,t,n){return te(this,void 0,void 0,(function(){var a,r=this;return ne(this,(function(o){switch(o.label){case 0:return[4,L(+e,+t)];case 1:return o.sent().forEach((function(e){return te(r,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,ae(e,"",0,0)];case 1:return a=t.sent(),n.append(a),[2]}}))}))})),[2]}}))}))}var oe,ie,se=new Audio;!function(e){e.EnglishWords="wordsObjectEn",e.RussianWords="wordsObjectRu",e.CorrectWord="correctWords",e.GuessedWord="guessedWords",e.WrongWord="wrongWords",e.Image="#game-img",e.Count="0"}(oe||(oe={})),function(e){e.NoWordsText="Тут неизученных слов нету.<br>Поищите в другом месте"}(ie||(ie={}));var ce=0,ue=0;function le(e,t,n){var a,r;M(s.UserData).userId&&(F(e,t),a=t,r=n,H(void 0,void 0,void 0,(function(){var e,t,n,o,i;return P(this,(function(s){switch(s.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return 404!==(e=s.sent()).status?[3,2]:(j.optional.sprintDayGuess=1,R(j),[3,4]);case 2:return[4,e.json()];case 3:(t=s.sent()).learnedWords=1,t.optional.sprintDayGuess||t.optional.sprintAllDayWords||t.optional.sprintMaxGuessed||(t.optional.sprintDayGuess=1,t.optional.sprintAllDayWords=1,t.optional.sprintMaxGuessed=1),n=Number(t.optional.sprintAllDayWords),o=Number(t.optional.sprintDayGuess),i=0,"number"==typeof t.optional.sprintMaxGuessed&&(i=Math.max(r,t.optional.sprintMaxGuessed)),t.optional=a?{sprintDayGuess:o+=1,sprintAllDayWords:n+=1,sprintMaxGuessed:i}:{sprintDayGuess:o,sprintAllDayWords:n+=1,sprintMaxGuessed:i},R({learnedWords:t.learnedWords,optional:t.optional}),s.label=4;case 4:return[2]}}))})))}function de(e,t){return e<t}function pe(){se.src="./assets/audio/correct.mp3",setTimeout((function(){se.play()}));var e=Number(M(oe.CorrectWord));S(oe.CorrectWord,(e+=1).toString())}function fe(){se.src="./assets/audio/wrong3.mp3",setTimeout((function(){se.play()}));var e=Number(M(oe.WrongWord));S(oe.WrongWord,(e+=1).toString())}function ve(e,t){0===t?e.forEach((function(e){e.classList.remove("active")})):1===t?(e.forEach((function(e){e.classList.remove("active")})),e.forEach((function(e){Number(e.id.slice(-1))===t&&e.classList.add("active")}))):e.forEach((function(e){Number(e.id.slice(-1))===t&&e.classList.add("active")}))}function he(e,t){ue=0,S(oe.CorrectWord,oe.Count),S(oe.WrongWord,oe.Count),S(oe.GuessedWord,oe.Count);var n=0,a=0,r=a,o=M(oe.EnglishWords),i=M(oe.RussianWords),s=e.querySelector(oe.Image),u=e.querySelector("#word-en"),l=e.querySelector("#word-ru");function d(){var e=Math.floor(Math.random()*i.length);r=e%3==0?Math.floor(Math.random()*i.length):a,s.src="".concat(v).concat(o[a].image),u.innerHTML="".concat(o[a].word),l.innerHTML="".concat(i[r].word)}function p(e){switch(e){case"word-true":o[a].id===i[r].id?(n++,ue++,n>=0&&(ce=Math.max(ce,n)),pe(),s=Number(M(oe.GuessedWord)),S(oe.GuessedWord,(s+=1).toString()),le(o[a].id,!0,n),ve(t,ue),3===ue&&(ue=0)):(n=0,ue=0,fe(),le(o[a].id,!1,n),ve(t,ue)),de(++a,o.length)&&d();break;case"word-false":o[a].id!==i[r].id?(n++,ue++,pe(),le(o[a].id,!0,n),ve(t,ue),3===ue&&(ue=0)):(n=0,ue=0,fe(),le(o[a].id,!1,n),ve(t,ue)),a++}var s;de(a,i.length)?d():gt(c.SprintStatiD)}e.addEventListener("click",(function(e){var t=e.target.id;"word-true"!==t&&"word-false"!==t||p(t)}));var f=e.querySelector("#word-true"),h=e.querySelector("#word-false");x.onkeydown=function(e){if(x.classList.contains("active")||window.location.hash.slice(1)!==c.SprintID||!0===e.repeat)e.stopPropagation();else switch(e.stopPropagation(),e.key){case"ArrowRight":e.preventDefault(),e.stopPropagation(),p("word-true"),f.classList.add("active"),setTimeout((function(){f.classList.remove("active")}),200);break;case"ArrowLeft":e.preventDefault(),e.stopPropagation(),p("word-false"),h.classList.add("active"),setTimeout((function(){h.classList.remove("active")}),200)}},d()}var ge=function(e,t){var n=[],a=[];"number"==typeof t?(S(u.numGamePage,["".concat(t)]),C(e,t)):(S(u.numGamePage,[]),C(e)),setTimeout((function(){M(u.allWords).forEach((function(e){var t={},r={};t.id=e.id,t.word=e.word,t.image=e.image,r.id=e.id,r.word=e.wordTranslate,n.push(t),a.push(r)})),S(oe.EnglishWords,n),S(oe.RussianWords,a)}),6e3)};var me=document.querySelector(".header");function be(e){T.innerHTML="";var t=f("div",T,["sprint","sprint__game-preload"]);f("div",t,["spinner"]);var n=setTimeout((function(){0===p(u.allWords).length?gt(c.NoWords):gt(e)}),7e3);me.addEventListener("click",(function(e){var t=e.target;"logo"!==t.id&&"header__nav-link"!==t.classList[0]||clearTimeout(n)}))}var ye=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},we=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function ke(){return ye(this,void 0,void 0,(function(){var e,t,n,a;return we(this,(function(r){return e=d("currentGroup","0"),t=d("currentPage","0"),n=p("userDataBasic"),a=f("div",void 0,["wrapper-page-textbook"],{id:"wrapper-page-textbook"}),n.userId?function(e,t,n){te(this,void 0,void 0,(function(){var a,r,o,i,s=this;return ne(this,(function(c){switch(c.label){case 0:o=p("userDataBasic"),c.label=1;case 1:return c.trys.push([1,6,,7]),Number(e)<6?[4,k(o,+e,+t)]:[3,3];case 2:return r=c.sent(),[3,5];case 3:return[4,_(o)];case 4:r=c.sent(),c.label=5;case 5:return[3,7];case 6:return c.sent(),l("userDataBasic","{}"),document.querySelector("#group-7").classList.add("display-none"),document.querySelector(".game__links").classList.add("display-none"),re(e,t,n),[2];case 7:return r.forEach((function(e){return te(s,void 0,void 0,(function(){var t,r,o,i,s,c,u,l;return ne(this,(function(d){switch(d.label){case 0:return t={id:e._id,group:e.group,page:e.page,word:e.word,image:e.image,audio:e.audio,audioMeaning:e.audioMeaning,audioExample:e.audioExample,textMeaning:e.textMeaning,textExample:e.textExample,transcription:e.transcription,wordTranslate:e.wordTranslate,textMeaningTranslate:e.textMeaningTranslate,textExampleTranslate:e.textExampleTranslate},r="",e.userWord&&("hard"===e.userWord.difficulty?r="hard":"easy"===e.userWord.difficulty&&"true"===e.userWord.optional.statusLearn&&(r="learned")),o=(null===(s=e.userWord)||void 0===s?void 0:s.optional.gameAllGuessWord)?null===(c=e.userWord)||void 0===c?void 0:c.optional.gameAllGuessWord:0,i=(null===(u=e.userWord)||void 0===u?void 0:u.optional.gameMistake)?null===(l=e.userWord)||void 0===l?void 0:l.optional.gameMistake:0,[4,ae(t,r,o,i)];case 1:return a=d.sent(),e.userWord&&(a.setAttribute("data-wordUser","true"),"hard"===e.userWord.difficulty?a.setAttribute("data-WordHard","true"):"easy"===e.userWord.difficulty&&"true"===e.userWord.optional.statusLearn&&a.setAttribute("data-WordLearned","true")),n.append(a),[2]}}))}))})),"6"===p(u.numGroup)&&(i=T.querySelector("#wrapper-page-textbook"),f("h1",i,["title__group"]).innerHTML="Сложные слова / Hard words"),[2]}}))}))}(e,t,a):re(e,t,a),[2,a]}))}))}function Le(){return ye(this,void 0,void 0,(function(){var e,t,n,a;return we(this,(function(r){switch(r.label){case 0:return e=document.querySelector("#page-textbook"),[4,ke()];case 1:return t=r.sent(),e.innerHTML="",e.append(t),n=d("currentGroup","0"),a=document.querySelector("#nav-textbook"),6===Number(n)?a.classList.add("display-none"):a.classList.remove("display-none"),[2]}}))}))}function _e(e){var t=e;t.disabled=!0,t.classList.add("nav-button_disabled"),t.classList.remove("nav-button_enabled")}function We(e){var t=e;t.disabled=!1,t.classList.remove("nav-button_disabled"),t.classList.add("nav-button_enabled")}function Te(e){return ye(this,void 0,void 0,(function(){var t,n,a,r,o,i,s,c,u;return we(this,(function(l){switch(l.label){case 0:return t=document.querySelector("#first"),n=document.querySelector("#prev"),a=document.querySelector("#next"),r=document.querySelector("#last"),We(a),We(r),We(t),We(n),e<=0&&(_e(t),_e(n)),e+1>=30&&(_e(a),_e(r)),(o=document.querySelector("#pageNumber")).innerText=String(e+1),i=d("currentGroup","0"),(s=p("userDataBasic")).userId?[4,W(s,Number(i),e)]:[3,2];case 1:c=l.sent(),u=document.querySelectorAll(".game__link"),20===c?(o.classList.add("learnPage"),u.forEach((function(e){var t=e;t.disabled=!0,t.classList.add("game__link-disabled")}))):(o.classList.remove("learnPage"),u.forEach((function(e){var t=e;t.disabled=!1,t.classList.remove("game__link-disabled")}))),l.label=2;case 2:return[2]}}))}))}function xe(e){var t="prev"===e.currentTarget.id?+d("currentPage","0")-1:0;l("currentPage",String(t)),Le(),Te(t)}function Se(e){var t="next"===e.currentTarget.id?+d("currentPage","0")+1:29;l("currentPage",String(t)),Le(),Te(t)}function Me(){var e=f("div",void 0,["main-textbook"],{id:"main-textbook"}),t=function(){var e=+d("currentPage","0")+1,t=f("div",void 0,["nav-textbook"],{id:"nav-textbook"}),n=f("button",t,["nav-button"],{id:"first",disabled:"true"});n.innerText="<<";var a=f("button",t,["nav-button"],{id:"prev",disabled:"true"});a.innerText="<",f("button",t,["nav-button"],{id:"pageNumber"}).innerText=String(e);var r=f("button",t,["nav-button","nav-button_enabled"],{id:"next"});r.innerText=">";var o=f("button",t,["nav-button","nav-button_enabled"],{id:"last"});return o.innerText=">>",n.addEventListener("click",xe),a.addEventListener("click",xe),r.addEventListener("click",Se),o.addEventListener("click",Se),t}();return e.append(t),f("div",e,["page-textbook"],{id:"page-textbook"}),e}function Ge(){var e=f("div",void 0,["textbook"],{id:"textbook"}),t=function(){for(var e=f("div",void 0,["group"]),t=f("div",e,["group__buttons"]),n=p("userDataBasic").userId?7:6,a=function(e){var n=f("button",t,["group__link","group-".concat(e)],{id:"group-".concat(e)});if(n.innerText=String(e),p("btnActive")){var a=p("btnActive");n.id===a[0]&&n.classList.add("active")}else 1===e&&n.classList.add("active");n.addEventListener("click",(function(n){t.querySelectorAll(".group__link").forEach((function(e){e.classList.remove("active")}));var a=n.target;a.classList.add("active"),S("btnActive",[a.id,"active"]),l("currentGroup",String(e-1)),l("currentPage",String(0)),Te(0),Le()}))},r=1;r<=n;r++)a(r);var o=f("div",e,["game__links"]),i=f("button",o,["game__links-sprint","game__link"],{id:"sprint-page"}),s=f("button",o,["game__links-audio","game__link"],{id:"audiogame-page"});return i.innerHTML="Sprint",s.innerHTML="Audio-game",o.addEventListener("click",(function(e){var t=e.target,n=Number(p("currentGroup")),a=Number(p("currentPage"));t.id===c.SprintID&&(ge(n,a),be(c.SprintID))})),e}(),n=Me();return e.append(t),e.append(n),e}var De,Ae=function(e,t,n,a){var r,o=document.createElement(e);(n&&(r=o.classList).add.apply(r,n),a)&&Object.keys(a).forEach((function(e){o.setAttribute(e,a[e])}));return t&&t.append(o),o},Ee=document.querySelector("#header-menu"),Ie=document.querySelector(".header");!function(e){e.SprintPerulation='<span>Правила игры</span> очень просты: вам нужно дать ответ -  совпадает или нет предложенный перевод слова.<br>Играть можно мышкой или стрелками "влево"/"вправо"',e.PreButton="Для старта игры выберите уровень сложности"}(De||(De={}));var He,Pe=[];function Ne(e,t){for(var n=1;n<t+1;n++)if(t>He.Two){var a=Ae("a",e,["sprint__btn-group"],{id:"words-".concat(n)});a.href="#sprint-page",a.innerHTML="".concat(n)}else{var r=Ae("button",e,["game__btns-choise--".concat(n%t==0)],{id:"word-".concat(n%t==0)});r.innerHTML=n%t==0?"Yes":"No"}}!function(e){e[e.Two=2]="Two",e[e.Six=6]="Six"}(He||(He={}));var je,qe,Be,Oe,Ue=function(){T.innerHTML="";var e=Ae("div",T,["sprint","sprint__page"],{id:"sprint-page"}),t=Ae("div",e,["sprint__game","game"]),n=Ae("div",t,["game__timer"]);n.innerHTML="1:00";var a=Ae("div",t,["game__audio","sound-on"]);a.style.backgroundImage="url(./assets/img/sound-on.png)",a.style.backgroundImage="url(./assets/img/sound-on.png)";var r=Ae("div",t,["game__img-block"]);Ae("img",r,["game__img"],{id:"game-img"});var o=Ae("div",t,["game__dotted"]),i=Ae("div",t,["game__words"]);Ae("div",i,["game__word-en"],{id:"word-en"}),Ae("div",i,["game__word-ru"],{id:"word-ru"});var s=Ae("div",t,["game__btns-choise"]);!function(e){Pe=[];for(var t=1;t<4;t++){var n=Ae("div",e,["game__dotted-".concat(t),"dotted"],{id:"game-dot-".concat(t)});Pe.push(n)}}(o),Ne(s,He.Two);var u=59;!function(e){e.addEventListener("click",(function(){e.classList.toggle("sound-on"),e.classList.contains("sound-on")?(se.volume=1,e.style.backgroundImage="url(./assets/img/sound-on.png)"):(se.volume=0,e.style.backgroundImage="url(./assets/img/sound-off.png)")}))}(a);var l=setInterval((function(){var e=window.location.hash.slice(1);u>=10&&(n.innerHTML="0:".concat(u)),u<10&&(n.innerHTML="0:0".concat(u)),0===u&&(clearInterval(l),gt(c.SprintStatiD)),e!==c.SprintID&&clearInterval(l),u-=1}),1e3);Ee.addEventListener("click",(function(){clearInterval(l)})),Ie.addEventListener("click",(function(e){"logo"===e.target.id&&clearInterval(l)})),Ie.removeEventListener("click",Ue),Ee.removeEventListener("click",Ue),he(t,Pe)};function Ce(){T.innerHTML="";var e=Ae("div",T,["sprint","sprint__game-preload"],{id:"preload-sprint"});Ae("h1",e,["sprint__title"]).innerHTML=De.PreButton,e.addEventListener("click",(function(e){var t=e.target,n=t.id;"sprint__btn-group"===t.classList[0]&&(e.preventDefault(),be(c.SprintID),ge(Number(n.split("").slice(-1))-1))})),x.onkeydown=function(e){if(x.classList.contains("active")||!0===e.repeat)e.stopPropagation();else{var t=function(e){var t=0;if(Number(e.key)>0&&Number(e.key)<=6){switch(e.key){case"1":t=0;break;case"2":t=1;break;case"3":t=2;break;case"4":t=3;break;case"5":t=4;break;case"6":t=5}return t}}(e);void 0!==t&&(be(c.SprintID),ge(t))}};var t=Ae("div",e,["sprint__btns"]);return Ae("div",e,["sprint__regulation"],{id:"regulation-sprint"}).innerHTML="".concat(De.SprintPerulation),Ne(t,He.Six),e}function ze(){T.innerHTML="";var e=Ae("div",T,["sprint__statistic"],{id:"srpint-statistic"});Ae("h1",e,["sprint__statistic-title"]).innerHTML="Statistic - Sprint game",Ae("div",e,["sprint__statistic-correct"]),Ae("div",e,["sprint__statistic-wrong"]),Ae("div",e,["sprint__statistic-words"]),Ae("div",e,["sprint__statistic-percent"]),Ae("div",e,["sprint__statistic-percent--words"]);var t=Ae("div",e,["sprint__statistic-buttons"]),n=Ae("a",t,["sprint__btn-close--stat-preload"]),a=Ae("a",t,["sprint__btn-close--stat-main"]);n.href="#".concat(c.PreloaSprintID),a.href="#".concat(c.MainID),n.innerHTML="Close page",a.innerHTML="Main page",n.addEventListener("click",(function(){gt(c.PreloaSprintID)})),a.addEventListener("click",(function(){gt(c.MainID)})),function(e){var t=Number(M(oe.CorrectWord)),n=Number(M(oe.WrongWord)),a=Number(M(oe.GuessedWord)),r=t+n,o=e.querySelector(".sprint__statistic-correct"),i=e.querySelector(".sprint__statistic-wrong"),s=e.querySelector(".sprint__statistic-words"),c=e.querySelector(".sprint__statistic-percent"),u=e.querySelector(".sprint__statistic-percent--words");o.innerHTML="Правильных ответов - ".concat(t),i.innerHTML="Неправильных ответов - ".concat(n),s.innerHTML="Угадано слов - ".concat(a),c.innerHTML="Количество ответов без ошибок - ".concat(ce),u.innerHTML="Процент отгаданных слов - ".concat(Math.trunc(a/r*100),"%")}(e)}function Re(e,t){if(e){var n="";switch(t){case je.TitleMain:n=je.TitleMain,e.innerHTML="".concat(Be.Title);break;case je.SubTitle:n=je.SubTitle,e.innerHTML="".concat(Be.Subtitle);break;case je.Description:n=je.Description,e.innerHTML="".concat(Be.DescriptionText);break;case qe.Zero:n=je.Games,e.innerHTML="".concat(Be.Games);break;case qe.One:n=je.TextBook,e.innerHTML="".concat(Be.TextBook);break;case qe.Two:n=je.Statistic,e.innerHTML="".concat(Be.Statistics);break;case qe.Three:n=je.Time,e.innerHTML="".concat(Be.Time)}e.id="main-".concat(n)}}function Je(e,t){if(e){var n="";switch(t){case qe.Zero:n=je.Kornull,e.innerHTML="".concat(Oe.Kornul);break;case qe.One:n=je.Maxlablearn,e.innerHTML="".concat(Oe.Maxlablearn);break;case qe.Two:n=je.Svetlana85,e.innerHTML="".concat(Oe.Svetlana85)}e.id="main-".concat(n)}}!function(e){e.TitleMain="title",e.SubTitle="subtitle",e.Description="description",e.TextBook="text-book",e.Statistic="statistic",e.Games="games",e.Time="time",e.TitleTeam="title-team",e.Kornull="kornull",e.Maxlablearn="maxlablearn",e.Svetlana85="svetlana85"}(je||(je={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Max=4]="Max"}(qe||(qe={})),function(e){e.Title="Hello my dear friend!",e.Subtitle="Немного о самом приложении",e.DescriptionText="Рады видеть Вас в нашем приложении для изучения Английского языка. Вас ждет лучший учебник который можно себе представить - в котором вы можете изучить новые слова и фразы.</br>И это всё БЕСПЛАТНО!",e.Games="Игры - вас ждут две увлекательные игры со словами - на время, и на восприятие речи на слух.",e.TextBook="Учебник - здесь вы можете послушать как произносятся слова на языке носителя, отметить трудные для себя слова и выражения, и конечно же выучить их!",e.Statistics="Статистика - вы увидете свою статистику по изученным словам, прогресс изученых слов за текущий отрезок времени.",e.Time="Для занятий требуется всего каких-то 14 минут 46 секунд в день!"}(Be||(Be={})),function(e){e.Kornul='<h3 class="team__name"><a class="team__name-link" href="https://github.com/Kornull" target="_blank">Kornull</a></h3>\n  <ul class="team__description">\n  <li class="team__role">Teamlead,</li>\n  <li class="team__tasks">Tasks:\n   <ul class="team__task">\n    <li>Main-page</li>\n    <li>Sprint-game</li>\n   </ul>\n  </li>\n </ul>',e.Maxlablearn='<h3 class="team__name"><a class="team__name-link" href="https://github.com/maxlablearn" target="_blank">Maxlablearn</a></h3>\n  <ul class="team__description">\n <li class="team__role">Developer,</li>\n <li class="team__tasks">Tasks:\n  <ul class="team__task">\n   <li>Backend</li>\n   <li>Audio-game</li>\n   <li>Authorization</li>\n  </ul>\n </li>\n</ul>',e.Svetlana85='<h3 class="team__name"><a class="team__name-link" href="https://github.com/svetlana-85" target="_blank">Svetlana-85</a></h3>\n  <ul class="team__description">\n<li class="team__role">Developer,</li>\n<li class="team__tasks">Tasks:\n <ul class="team__task">\n  <li>Text-book</li>\n  <li>Statistic</li>\n </ul>\n</li>\n</ul>'}(Oe||(Oe={}));const Fe=function(){var e=Ae("div",T,["main__page"],{id:"main-page"}),t=Ae("div",e,["main__page-greetings"]),n=Ae("h1",t,["main__page-title"]),a=Ae("div",t,["main__page-description"]),r=Ae("h2",t,["main__page-subtitle"]);return Re(n,je.TitleMain),Re(r,je.SubTitle),Re(a,je.Description),e.appendChild(function(){for(var e=Ae("div",T,["main__page-about"]),t=Ae("ul",e,["main__list"]),n=qe.Zero;n<qe.Max;n++){var a=Ae("li",t,["main__list-description"]);Re(Ae("div",a,["list__text"]),n),Ae("img",a,["list__image"]).src="./assets/img/".concat(n,".png")}return e}()),Ae("h2",e,["main__list-title-team"],{id:"title-team"}).innerHTML="О команде",e.appendChild(function(){for(var e=Ae("div",T,["main__page-team"]),t=Ae("ul",e,["main__list--team"]),n=qe.Zero;n<qe.Max-1;n++){var a=Ae("li",t,["main__list-team"]);Je(Ae("div",a,["list__text-team"]),n);var r=Ae("div",a,["list__image-team"]);Ae("img",r,["list__images-team"]).src="./assets/img/team-".concat(n,".jpg")}return e}()),e};var Ye=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},$e=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Ke(e){var t=document.querySelector("#sign-in-btn"),n=document.querySelector("#sign-up-btn"),a=document.querySelector('label input[name="name"]'),r=document.querySelector(".label__text.name");"sign-in-btn"===e.id?(t.classList.add("active"),n.classList.remove("active"),a.setAttribute("disabled","disabled"),r.classList.add("disabled")):(t.classList.remove("active"),n.classList.add("active"),a.removeAttribute("disabled"),r.classList.remove("disabled"))}function Ze(){var e=document.querySelector(".popup__bg");null==e||e.remove(),document.location.reload()}function Qe(e){var t=document.querySelector(".popup-message");document.querySelector(".popup-message__text").innerText=e,t.classList.remove("disabled"),setTimeout((function(){t.classList.add("disabled")}),3500)}function Ve(e,t,n,a,r,o){var i=document.createElement("label");return Ae("input",i,void 0,o?{type:e,name:t,disabled:"disabled"}:{type:e,name:t}),Ae("div",i,n).innerText=a,r&&r.append(i),i}function Xe(){var e=Ae("div",T,["popup__bg","active"]),t=Ae("form",e,["popup","active"]);Ve("text","name",["label__text","name","disabled"],"Введите имя",t,!0),Ve("email","email",["label__text"],"Введите адрес электронной почты",t,!1),Ve("password","password",["label__text"],"Введите пароль",t,!1);var n=Ae("div",t,["sign"]),a=Ae("button",n,["btn","active"],{type:"button",id:"sign-in-btn"});a.innerText="Войти",a.addEventListener("click",(function(e){return Ke(e.target)}));var r=Ae("button",n,["btn"],{type:"button",id:"sign-up-btn"});r.innerText="Регистрация",r.addEventListener("click",(function(e){return Ke(e.target)}));var o=Ae("button",t,["btn"],{type:"button",id:"submit"});o.innerText="Отправить";var i=Ae("div",t,["popup-message","disabled"]);return Ae("span",i,["popup-message__text"]).innerText="Что-то пошло не так...",o.addEventListener("click",(function(){return function(){var e;return Ye(this,void 0,void 0,(function(){var t,n,a,r;return $e(this,(function(o){switch(o.label){case 0:return t=document.querySelector('input[name="name"]'),n=document.querySelector('input[name="email"]'),a=document.querySelector('input[name="password"]'),(null===(e=document.querySelector("#sign-in-btn"))||void 0===e?void 0:e.classList.contains("active"))?[4,ht.signIn(n.value,a.value)]:[3,2];case 1:return 200===(r=o.sent())?Ze():Qe(403===r?"Неверный e-mail или пароль":"Неизвестная ошибка входа"),[3,4];case 2:return[4,ht.createUser(t.value,n.value,a.value)];case 3:200===(r=o.sent())?Ze():Qe(422===r?"Неверный e-mail или пароль":"Неизвестная ошибка регистрации"),o.label=4;case 4:return[2]}}))}))}()})),e.addEventListener("click",(function(e){t.contains(e.target)||Ze()})),t}const et=function(){var e,t,n;M(s.UserData).userId?(e=Ae("div",T,["popup__bg","active"]),t=Ae("form",e,["popup","active"]),(n=Ae("button",t,["btn"],{type:"button",id:"log-out"})).innerText="Выйти",n.addEventListener("click",(function(){ht.logOut(),Ze()})),e.addEventListener("click",(function(e){t.contains(e.target)||Ze()}))):Xe()};var tt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},nt=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},at=function(){function e(){this.userName="",this.userEmail="",this.userId="",this.token="",this.refreshToken=""}return e.prototype.createUser=function(e,t,n){return tt(this,void 0,void 0,(function(){var a,r;return nt(this,(function(o){switch(o.label){case 0:return[4,fetch("".concat(v,"users"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})})];case 1:return 200!==(a=o.sent()).status?[3,3]:[4,a.json()];case 2:r=o.sent(),this.userName=r.name,this.userEmail=r.email,o.label=3;case 3:return[2,Promise.resolve(a.status)]}}))}))},e.prototype.signIn=function(e,t){return tt(this,void 0,void 0,(function(){var n,a;return nt(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(v,"signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})})];case 1:return 200!==(n=r.sent()).status?[3,3]:[4,n.json()];case 2:a=r.sent(),this.userEmail=e,this.userId=a.userId,this.token=a.token,this.refreshToken=a.refreshToken,this.userName=a.name,localStorage.setItem("userDataBasic",JSON.stringify({userId:this.userId,token:this.token,name:this.userName})),r.label=3;case 3:return[2,Promise.resolve(n.status)]}}))}))},e.prototype.logOut=function(){this.userEmail="",this.userId="",this.token="",this.refreshToken="",this.userName="",localStorage.setItem("userDataBasic",JSON.stringify({}))},e.prototype.getNewTokens=function(){return tt(this,void 0,void 0,(function(){var e,t;return nt(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(this.userId,"/tokens"),{method:"GET",headers:{Authorization:"Bearer ".concat(this.refreshToken),Accept:"application/json","Content-Type":"application/json"}})];case 1:return 200!==(e=n.sent()).status?[3,3]:[4,e.json()];case 2:return t=n.sent(),this.token=t.token,this.refreshToken=t.refreshToken,this.userId=t.userId,this.userName=t.name,localStorage.setItem("userDataBasic",JSON.stringify({userId:this.userId,token:this.token,name:this.userName})),[3,4];case 3:this.logOut(),n.label=4;case 4:return[2]}}))}))},e}();var rt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ot=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function it(e){return rt(this,void 0,void 0,(function(){var t;return ot(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json"}})];case 1:return 404===(t=n.sent()).status?[2,{learnedWords:0,optional:{sprintDayGuess:0,sprintAllDayWords:0,sprintMaxGuessed:0,audiotDayGuess:0,audioAllDayWords:0,audioMaxGuessed:0}}]:[4,t.json()];case 2:return[2,n.sent()]}}))}))}function st(e){return rt(this,void 0,void 0,(function(){var t,n;return ot(this,(function(a){switch(a.label){case 0:return t="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"$and":[{"userWord.difficulty":"easy", "userWord.optional.statusLearn": "true", "userWord.optional.dataLearn": "').concat(t,'"}]}&wordsPerPage=3600'),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json"}})];case 1:return 404===(n=a.sent()).status?[2,0]:[4,n.json()];case 2:return[2,a.sent()[0].totalCount[0].count]}}))}))}var ct=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ut=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lt=["Аудиовызов","Спринт","Статистика по словам"],dt=["Количество угаданных слов за день","Процент правильных ответов","Лучшая серия"],pt=["Количество угаданных слов за день","Количество изученных слов за день","Процент правильных ответов за день"];function ft(e,t,n){var a=Ae("div",void 0,["blockStat"]);Ae("h5",a,["blockStatTitle"]).innerHTML=e;var r=Ae("table",a,["statisticTable"]);return t.forEach((function(e,t){var a=Ae("tr",r,["statisticTableRow"]);Ae("td",a,["statisticRowTitle"]).innerHTML=e,Ae("td",a,["statisticValue"]).innerHTML=String(n[t])})),a}function vt(){return ct(this,void 0,void 0,(function(){var e,t,n,a,r,o,i,s,c,u,l,d;return ut(this,(function(f){switch(f.label){case 0:if(T.innerHTML="",Ae("h2",T,["h2"]).innerText="Статистика",e=Ae("div",T,["statistics"]),!(t=p("userDataBasic")).userId)return[3,9];n=void 0,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,it(t)];case 2:return n=f.sent(),[3,4];case 3:return f.sent(),n={learnedWords:0,optional:{sprintDayGuess:0,sprintAllDayWords:0,sprintMaxGuessed:0,audiotDayGuess:0,audioAllDayWords:0,audioMaxGuessed:0}},[3,4];case 4:a=void 0,f.label=5;case 5:return f.trys.push([5,7,,8]),[4,st(t)];case 6:return a=f.sent(),[3,8];case 7:return f.sent(),a=0,[3,8];case 8:return r=[n.optional.audiotDayGuess?n.optional.audiotDayGuess:0,n.optional.audioAllDayWords&&n.optional.audiotDayGuess?Math.round(n.optional.audiotDayGuess/n.optional.audioAllDayWords*100):0,n.optional.audioMaxGuessed?n.optional.audioMaxGuessed:0,n.optional.audioAllDayWords?n.optional.audioAllDayWords:0],o=[n.optional.sprintDayGuess?n.optional.sprintDayGuess:0,n.optional.sprintDayGuess&&n.optional.sprintAllDayWords?Math.round(n.optional.sprintDayGuess/n.optional.sprintAllDayWords*100):0,n.optional.sprintMaxGuessed?n.optional.sprintMaxGuessed:0,n.optional.sprintAllDayWords?n.optional.sprintAllDayWords:0],i=ft(lt[0],dt,r),e.append(i),s=ft(lt[1],dt,o),e.append(s),c=(r[0]?r[0]:0)+(o[0]?o[0]:0),l=(u=(r[3]?r[3]:0)+(o[3]?o[3]:0))?Math.round(c/u*100):0,d=ft(lt[2],pt,[r[0]+o[0],a,l]),e.append(d),[3,10];case 9:e.append((v="Статистика доступна только авторизованному пользователю",(h=Ae("span",void 0,["statisticMessage"])).innerHTML=v,h)),f.label=10;case 10:return[2]}var v,h}))}))}var ht=new at;function gt(e){var t,n,a,r=document.querySelector(".footer");if(null!==e){switch(T.innerHTML="",e===c.SprintID||e===c.PreloaSprintID?r.style.display="none":r.style.display="flex",e){case c.MainID:Fe();break;case c.PreloaSprintID:Ce();break;case c.SprintID:Ue();break;case c.SprintStatiD:ze();break;case c.BookID:!function(){var e=document.querySelector("#main"),t=Ge();e.append(t),Te(+d("currentPage","0")),Le(),isNaN(Number(p("currentPage")))&&(S("btnActive",["group-1","active"]),l("currentGroup","0"),l("currentPage","0"))}();break;case c.StatisticId:vt();break;case c.NoWords:t=f("div",T,["no__words"],{id:c.NoWords}),f("div",t,["no__words-text"],{id:c.NoWords}).innerHTML=ie.NoWordsText}window.location.hash=e,S(u.userPage,e)}else gt(c.MainID);n=document.querySelector(".header__login-icon"),a=document.querySelector(".header__logo-user"),M(s.UserData).userId?(n.style.display="none",a.style.display="block"):(n.style.display="block",a.style.display="none"),document.querySelector("#login").addEventListener("click",et)}function mt(e){gt(e),S(u.userPage,e)}window.addEventListener("hashchange",(function(){var e=window.location.hash.slice(1);"title-team"!==e&&"main-subtitle"!==e&&gt(e)}));var bt,yt=document.querySelector("#burger"),wt=document.querySelector("#shadow"),kt=document.querySelectorAll(".header__nav-link"),Lt=yt.lastChild,_t=document.querySelector("#header-list"),Wt=document.querySelector("#header-nav"),Tt=document.querySelector(".header"),xt=function(){Lt.classList.remove("active"),_t.style.right="-100%",Wt.style.right="-100%",wt.style.left="-100%",kt.forEach((function(e){e.setAttribute("tabindex","-1")})),document.body.classList.remove("active")},St=function(){Lt.classList.contains("active")?xt():(Lt.classList.add("active"),_t.style.right="0%",Wt.style.right="0%",wt.style.left="0%",document.body.classList.add("active"),yt.blur(),kt.forEach((function(e){e.setAttribute("tabindex","0")})))};Tt.addEventListener("click",(function(e){e.target.id===c.LogoIt&&mt(c.MainID)})),yt.addEventListener("click",St),yt.addEventListener("keydown",(function(e){e.target.classList.contains("header__burger")&&"Enter"===e.key&&St()})),wt.addEventListener("click",St),kt.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target;"team"===t.id||"about"===t.id?(p(u.userPage)!==c.MainID&&mt(c.MainID),e.stopPropagation()):mt(t.id),null!==e&&"click"===e.type&&St()}))})),window.addEventListener("resize",xt),bt=localStorage.getItem(u.userPage),localStorage.getItem(u.userPage)?null!=bt&&gt(bt.slice(1,-1)):gt(null)})()})();