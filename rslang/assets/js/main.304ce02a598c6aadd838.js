(()=>{"use strict";var e={502:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},450:(e,t,n)=>{e.exports=n.p+"assets/icons/login.b31e2758908d4fc5c51c.svg"},359:(e,t,n)=>{e.exports=n.p+"assets/icons/logo-user.abe392c5a2b8adfece32.svg"},525:(e,t,n)=>{e.exports=n.p+"assets/icons/rsLang.c133bda85f88697c7868.svg"},748:(e,t,n)=>{e.exports=n.p+"assets/icons/rsschool.23efb210a555c7e87348.svg"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../../"})(),n.b=document.baseURI||self.location.href,(()=>{var e=n(502),t=n.n(e),r=new URL(n(525),n.b),a=new URL(n(450),n.b),o=new URL(n(359),n.b),i=new URL(n(748),n.b);t()(r,{hash:"#rslang"}),t()(a,{hash:"#login-icon"}),t()(o,{hash:"#logo-user"}),t()(i,{hash:"#rsschool"});var s,c,u;function l(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function d(e,t){var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}function p(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{}}!function(e){e.UserData="userDataBasic"}(s||(s={})),function(e){e.MainID="main-page",e.SprintID="sprint-page",e.BookID="book-page",e.PreloaSprintID="preload-sprint",e.SprintStatiD="srpint-statistic",e.LogoIt="logo",e.AudioGamePreload="preload-audio",e.AudioGame="audio-game",e.AudioGameStatistic="statistic-audio",e.StatisticId="statistics-page",e.NoWords="no-words"}(c||(c={})),function(e){e.userPage="userPageNow",e.numPage="currentPage",e.numGroup="currentGroup",e.allWords="allListWords",e.numGamePage="NumGamePage"}(u||(u={}));var f=function(e,t,n,r){var a,o=document.createElement(e);(n&&(a=o.classList).add.apply(a,n),r)&&Object.keys(r).forEach((function(e){o.setAttribute(e,r[e])}));return t&&t.append(o),o},v="https://rs-lang-team53.herokuapp.com/",h="".concat(v,"words"),m=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function b(e,t){return m(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(h,"?group=").concat(e,"&page=").concat(t))];case 1:return[2,n.sent().json()]}}))}))}function y(e,t,n){return m(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,"/words/").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),[2]}}))}))}function w(e,t,n){return m(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,"/words/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),[2]}}))}))}function k(e,t,n){return m(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"$and":[{"group":').concat(t,', "page":').concat(n,"}]}&wordsPerPage=20"),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token)}})];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()[0].paginatedResults]}}))}))}function L(e,t){return m(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return[4,b(e,t)];case 1:return[2,n.sent()]}}))}))}function _(e){return m(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"userWord.difficulty":"hard"}&wordsPerPage=4000'),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()[0].paginatedResults]}}))}))}function W(e,t,n){return m(this,void 0,void 0,(function(){var r,a;return g(this,(function(o){switch(o.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"$and": [{"$or": [{"userWord.difficulty": "hard"},{"$and": [{"userWord.difficulty": "easy", "userWord.optional.statusLearn":"true"}]}], "group":').concat(t,', "page":').concat(n,"}]}&wordsPerPage=4000"),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json","Content-Type":"application/json"}})];case 1:return 200!==(r=o.sent()).status?[3,3]:[4,r.json()];case 2:return[2,(a=o.sent()[0].totalCount[0])?a.count:0];case 3:return[2,0]}}))}))}var T=document.querySelector("#main"),S=document.querySelector(".body");p("userDataBasic");function x(e,t){localStorage.setItem(e,JSON.stringify(t))}function M(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{}}x("timeDateReset","".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()));var G,A=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=M(s.UserData),I=function(e){return A(void 0,void 0,void 0,(function(){var t,n;return D(this,(function(r){switch(r.label){case 0:return t=[],n=[],[4,fetch("".concat(v,"users/").concat(E.userId,"/words"),{method:"GET",headers:{Authorization:"Bearer ".concat(E.token),Accept:"application/json"}})];case 1:return[4,r.sent().json()];case 2:return r.sent().forEach((function(e){"true"===e.optional.statusLearn&&n.push(e)})),0!==n.length?(e.forEach((function(e){var r=0;n.forEach((function(a){e.id!==a.wordId&&r++,r===n.length&&t.push(e)}))})),[2,t]):[2,e]}}))}))},H=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N={difficulty:"easy",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"false"}},q={learnedWords:1,optional:{sprintDayGuess:1,sprintAllDayWords:1,sprintMaxGuessed:1,"data-0":{},"data-1":{},"data-2":{},"data-3":{},"data-4":{},"data-5":{},"data-6":{}}},j=[],B=M(s.UserData);!function(e){e[e.pages=30]="pages"}(G||(G={}));function C(e){return H(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"words/").concat(e))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))}var O=function(e,t){return H(void 0,void 0,void 0,(function(){var n,r;return P(this,(function(a){switch(a.label){case 0:return void 0===(o=[{key:"page",value:t},{key:"group",value:e}])&&(o=[]),[4,C(o.length?"?".concat(o.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")):"")];case 1:return n=a.sent(),j.push(n),r=j.flat(),M(s.UserData).userId&&M(u.numGamePage).length>0?[4,I(r)]:[3,3];case 2:return x("allListWords",a.sent()),[3,4];case 3:x("allListWords",r),a.label=4;case 4:return[2]}var o}))}))};function U(e,t){return H(this,void 0,void 0,(function(){var n,r;return P(this,(function(a){if(x("allListWords",[]),j=[],n=Math.floor(Math.random()*G.pages),"number"==typeof t&&(n=t),n>=5)for(r=n-5;r<=n;r++)O(e,r);else if(n<5&&n>0)for(r=n-n;r<=n;r++)O(e,r);else O(e,n);return[2]}))}))}var z=function(e,t){return H(void 0,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/words/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return n.sent(),[2]}}))}))},R=function(e){return H(void 0,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"PUT",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return t.sent(),[2]}}))}))},J=function(){return H(void 0,void 0,void 0,(function(){var e,t,n,r;return P(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,'/aggregatedWords?filter={\n      "$and": [{"$and": [{"$or": [{"userWord.difficulty": "hard"},{"userWord.difficulty": "easy"}]}]},{"userWord.optional.statusLearn":"true"}]}&wordsPerPage=3600'),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return e=a.sent(),[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 2:return 404!==(t=a.sent()).status?[3,3]:(R({learnedWords:1,optional:{sprintDayGuess:0,sprintAllDayWords:0,sprintMaxGuessed:0}}),[3,7]);case 3:return[4,t.json()];case 4:return n=a.sent(),404!==e.status?[3,5]:(n.optional={sprintDayGuess:n.optional.sprintDayGuess,sprintAllDayWords:n.optional.sprintAllDayWords,sprintMaxGuessed:n.optional.sprintMaxGuessed},R({learnedWords:1,optional:n.optional}),[3,7]);case 5:return[4,e.json()];case 6:r=a.sent(),R({learnedWords:r[0].paginatedResults.length,optional:n.optional}),a.label=7;case 7:return[2]}}))}))},F=function(e,t){return H(void 0,void 0,void 0,(function(){var n;return P(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/words/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return 404!==(n=r.sent()).status?[3,2]:(t?(N.optional.gameGuessed=1,N.optional.gameMistake=0,N.optional.gameAllGuessWord=1,N.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())):(N.optional.gameGuessed=0,N.optional.gameMistake=1,N.optional.gameAllGuessWord=0,N.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())),function(e,t){H(this,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/words/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(B.token),"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return n.sent(),[2]}}))}))}(e,N),[3,6]);case 2:return t?[4,n.json()]:[3,4];case 3:return function(e,t){H(void 0,void 0,void 0,(function(){return P(this,(function(n){return e.optional.gameGuessed+=1,e.optional.gameAllGuessWord+=1,e.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),"easy"===e.difficulty&&e.optional.gameGuessed>=3&&(e.optional.statusLearn="true",e.optional.dataLearn="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),z(t,{optional:e.optional})),"hard"===e.difficulty&&e.optional.gameGuessed>=5&&(e.optional.statusLearn="true",e.difficulty="easy",e.optional.dataLearn="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())),z(t,{optional:e.optional}),J(),[2]}))}))}(r.sent(),e),[3,6];case 4:return[4,n.json()];case 5:(function(e,t){H(void 0,void 0,void 0,(function(){return P(this,(function(n){return e.optional.gameMistake+=1,e.optional.data="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),"true"===e.optional.statusLearn&&(e.optional.statusLearn="false",e.optional.gameGuessed=0),z(t,{optional:e.optional}),[2]}))}))})(r.sent(),e),r.label=6;case 6:return[2]}}))}))};H(void 0,void 0,void 0,(function(){var e;return P(this,(function(t){switch(t.label){case 0:return M("timeDateReset")==="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())?[3,3]:[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return[4,t.sent().json()];case 2:(e=t.sent()).optional={sprintDayGuess:1,sprintAllDayWords:1,sprintMaxGuessed:1},R({learnedWords:e.learnedWords,optional:e.optional}),t.label=3;case 3:return[2]}}))}));var Y=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},$=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},K=p(s.UserData),Z=function(e,t,n){return Y(void 0,void 0,void 0,(function(){var r;return $(this,(function(a){switch(a.label){case 0:return r="",[4,fetch("".concat(v,"words/?group=").concat(e,"&&page=").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(K.token),Accept:"application/json"}})];case 1:return[4,a.sent().json()];case 2:return a.sent().forEach((function(e){e.word===n&&(r=e.id)})),[2,r]}}))}))},V=function(e){return Y(void 0,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(v,"users/").concat(K.userId,"/aggregatedWords/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(K.token),Accept:"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))};function Q(e){var t;return Y(this,void 0,void 0,(function(){var n,r,a,o,i,s;return $(this,(function(c){switch(c.label){case 0:return n="",r=Number(p(u.numPage)),a=Number(p(u.numGroup)),void 0===(o=null===(t=e.querySelector("h3"))||void 0===t?void 0:t.innerHTML.split(" "))?[3,2]:[4,Z(a,r,o[0])];case 1:n=c.sent(),c.label=2;case 2:return[4,V(n)];case 3:return i=c.sent(),s=i[0],"true"===e.getAttribute("data-WordLearned")?(e.classList.remove("cardLearned"),e.setAttribute("data-WordLearned","false"),[2,{difficulty:"easy",optional:{gameGuessed:s.userWord.optional.gameGuessed,gameMistake:s.userWord.optional.gameMistake,gameAllGuessWord:s.userWord.optional.gameAllGuessWord,statusLearn:"false"}}]):(e.classList.add("cardLearned"),e.setAttribute("data-WordLearned","true"),"false"===e.getAttribute("data-WordHard")&&(e.classList.remove("cardHard"),e.setAttribute("data-WordHard","false")),void 0===s.userWord?[2,{difficulty:"easy",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"true",dataLearn:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())}}]:[2,{difficulty:"easy",optional:{gameGuessed:s.userWord.optional.gameGuessed,gameMistake:s.userWord.optional.gameMistake,gameAllGuessWord:s.userWord.optional.gameAllGuessWord,statusLearn:"true",dataLearn:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())}}])}}))}))}function X(e,t,n){return Y(this,void 0,void 0,(function(){var r,a,o,i,s,c;return $(this,(function(u){switch(u.label){case 0:return r=d("currentGroup","0"),"true"!==t.getAttribute("data-wordUser")?[3,4]:[4,Q(t)];case 1:return a=u.sent(),[4,y(n,e.id,a)];case 2:return u.sent(),[4,J()];case 3:case 7:case 10:return u.sent(),[3,12];case 4:return[4,V(e.id)];case 5:switch(o=u.sent(),i=o[0],typeof i.userWord){case"undefined":return[3,6];case"object":return[3,8]}return[3,11];case 6:return s={difficulty:"easy",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"true",dataLearn:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())}},w(n,e.id,s),t.setAttribute("data-wordUser","true"),t.setAttribute("data-WordLearned","true"),t.setAttribute("data-WordHard","false"),t.classList.add("cardLearned"),[4,J()];case 8:return c={difficulty:"easy",optional:{gameGuessed:i.userWord.optional.gameGuessed,gameMistake:i.userWord.optional.gameMistake,gameAllGuessWord:i.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,c)];case 9:return u.sent(),t.setAttribute("data-wordUser","true"),t.setAttribute("data-WordLearned","true"),[4,J()];case 11:return[3,12];case 12:return t.classList.remove("cardHard"),t.setAttribute("data-WordHard","false"),6===Number(r)&&t.classList.add("display-none"),[2]}}))}))}function ee(e,t,n){return Y(this,void 0,void 0,(function(){var r,a,o,i,s;return $(this,(function(c){switch(c.label){case 0:return[4,V(e.id)];case 1:return r=c.sent(),a=r[0],o=t.getAttribute("data-wordUser"),i=d("currentGroup","0"),"true"!==o?[3,25]:void 0!==a.userWord?[3,14]:"true"===t.getAttribute("data-WordHard")?[3,4]:(s={difficulty:"hard",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"false"}},[4,w(n,e.id,s)]);case 2:return c.sent(),[4,J()];case 3:return c.sent(),[3,10];case 4:return 6!==Number(i)?[3,7]:(s={difficulty:"easy",optional:{gameGuessed:a.userWord.optional.gameGuessed,gameMistake:a.userWord.optional.gameMistake,gameAllGuessWord:a.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)]);case 5:return c.sent(),[4,J()];case 6:return c.sent(),[3,10];case 7:return s={difficulty:"hard",optional:{gameGuessed:a.userWord.optional.gameGuessed,gameMistake:a.userWord.optional.gameMistake,gameAllGuessWord:a.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)];case 8:return c.sent(),t.setAttribute("data-wordUser","true"),[4,J()];case 9:c.sent(),c.label=10;case 10:return 6!==Number(i)?[3,11]:(t.classList.add("display-none"),[3,13]);case 11:return t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.classList.add("cardHard"),t.classList.remove("cardLearned"),[4,J()];case 12:c.sent(),c.label=13;case 13:return[3,24];case 14:return void 0===a.userWord?[3,24]:"true"===t.getAttribute("data-WordHard")?[3,17]:(s={difficulty:"hard",optional:{gameGuessed:a.userWord.optional.gameGuessed,gameMistake:a.userWord.optional.gameMistake,gameAllGuessWord:a.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)]);case 15:return c.sent(),[4,J()];case 16:return c.sent(),[3,23];case 17:return 6!==Number(i)?[3,20]:(s={difficulty:"easy",optional:{gameGuessed:a.userWord.optional.gameGuessed,gameMistake:a.userWord.optional.gameMistake,gameAllGuessWord:a.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)]);case 18:return c.sent(),[4,J()];case 19:return c.sent(),[3,23];case 20:return s={difficulty:"hard",optional:{gameGuessed:a.userWord.optional.gameGuessed,gameMistake:a.userWord.optional.gameMistake,gameAllGuessWord:a.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)];case 21:return c.sent(),t.setAttribute("data-wordUser","true"),[4,J()];case 22:c.sent(),c.label=23;case 23:6===Number(i)?(t.classList.add("display-none"),t.classList.remove("cardHard")):(t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.classList.add("cardHard"),t.classList.remove("cardLearned")),c.label=24;case 24:return[3,32];case 25:return void 0!==a.userWord?[3,29]:"true"===t.getAttribute("data-WordHard")?[3,28]:(s={difficulty:"hard",optional:{gameGuessed:0,gameMistake:0,gameAllGuessWord:0,statusLearn:"false"}},[4,w(n,e.id,s)]);case 26:return c.sent(),t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.setAttribute("data-wordUser","true"),t.classList.add("cardHard"),t.classList.remove("cardLearned"),[4,J()];case 27:c.sent(),c.label=28;case 28:return[3,32];case 29:return s={difficulty:"hard",optional:{gameGuessed:a.userWord.optional.gameGuessed,gameMistake:a.userWord.optional.gameMistake,gameAllGuessWord:a.userWord.optional.gameAllGuessWord,statusLearn:"false"}},[4,y(n,e.id,s)];case 30:return c.sent(),t.setAttribute("data-wordUser","true"),t.setAttribute("data-WordHard","true"),t.setAttribute("data-WordLearned","false"),t.classList.add("cardHard"),t.classList.remove("cardLearned"),[4,J()];case 31:c.sent(),c.label=32;case 32:return[2]}}))}))}var te=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function re(e,t,n,r){return te(this,void 0,void 0,(function(){var a,o,i,s,c,u,l,h,m,g,b,y,w,k,L,_,W=this;return ne(this,(function(T){return a=f("div",void 0,["cardWord","group-".concat(e.group+1)],{id:"cardWord-".concat(e.id)}),o=f("div",a,["multimediaBlock"]),i=f("div",o,["imgBlock"]),f("img",i,["imgWord"],{id:"imgWord-".concat(e.id),src:"".concat(v).concat(e.image)}),s=f("div",o,["buttonAdd"]),c=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.classList.add("imgAudio"),t.innerHTML='<use xlink:href="./assets/img/audio.svg#audio"></use>',t.addEventListener("click",(function(){var t=new Audio;t.src="".concat(v).concat(e.audio),t.autoplay=!0,t.addEventListener("ended",(function(){var t=new Audio;t.src="".concat(v).concat(e.audioMeaning),t.autoplay=!0,t.addEventListener("ended",(function(){var t=new Audio;t.src="".concat(v).concat(e.audioExample),t.autoplay=!0}))}))})),t}(e),s.append(c),(u=p("userDataBasic")).userId&&((l=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgLearn"),l.innerHTML='<use xlink:href="./assets/img/checkmark.svg#check"></use>',s.append(l),l.addEventListener("click",(function(){return te(W,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,X(e,a,u)];case 1:return t.sent(),[4,Ce(Number(d("currentPage","0")))];case 2:return t.sent(),[2]}}))}))})),(h=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgHard"),h.innerHTML='<use xlink:href="./assets/img/kettlebell.svg#kettlebell"></use>',h.addEventListener("click",(function(){return te(W,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,ee(e,a,u)];case 1:return t.sent(),[4,Ce(Number(d("currentPage","0")))];case 2:return t.sent(),[2]}}))}))})),s.append(h),"learned"===t&&a.classList.add("cardLearned"),"hard"===t&&a.classList.add("cardHard")),m=f("div",a,["word"]),g=f("div",m,["wordBlock"]),b=f("h3",g,["h3"]),u.userId&&(n||r)&&(y=f("div",g,["wordGameImg"]),w=f("div",y,["wordGameImgGuessed"]),(k=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgWordGame"),k.innerHTML='<use xlink:href="./assets/img/guessed.svg#guessed"></use>',w.append(k),f("span",w,["wordBlockCount"]).innerHTML=String(n),L=f("div",y,["wordGameImgGuessed"]),(_=document.createElementNS("http://www.w3.org/2000/svg","svg")).classList.add("imgWordGame"),_.innerHTML='<use xlink:href="./assets/img/mistake.svg#mistake"></use>',L.append(_),f("span",L,["wordGameImgGuessed"]).innerHTML=String(r)),b.innerHTML="".concat(e.word," (").concat(e.wordTranslate,")"),f("h4",m,["h4"]).innerHTML="".concat(e.transcription),f("p",m,["p"]).innerHTML="".concat(e.textMeaning),f("p",m,["p"]).innerHTML="".concat(e.textMeaningTranslate),f("p",m,["p"]).innerHTML="".concat(e.textExample),f("p",m,["p"]).innerHTML="".concat(e.textExampleTranslate),[2,a]}))}))}function ae(e,t,n){return te(this,void 0,void 0,(function(){var r,a=this;return ne(this,(function(o){switch(o.label){case 0:return[4,L(+e,+t)];case 1:return o.sent().forEach((function(e){return te(a,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,re(e,"",0,0)];case 1:return r=t.sent(),n.append(r),[2]}}))}))})),[2]}}))}))}var oe,ie,se=new Audio;!function(e){e.EnglishWords="wordsObjectEn",e.RussianWords="wordsObjectRu",e.CorrectWord="correctWords",e.GuessedWord="guessedWords",e.WrongWord="wrongWords",e.Image="#game-img",e.Count="0"}(oe||(oe={})),function(e){e.NoWordsText="Тут неизученных слов нету.<br>Поищите в другом месте"}(ie||(ie={}));var ce=0,ue=0;function le(e,t,n){var r,a;M(s.UserData).userId&&(F(e,t),r=t,a=n,H(void 0,void 0,void 0,(function(){var e,t,n,o,i;return P(this,(function(s){switch(s.label){case 0:return[4,fetch("".concat(v,"users/").concat(B.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(B.token),Accept:"application/json"}})];case 1:return 404!==(e=s.sent()).status?[3,2]:(q.optional.sprintDayGuess=1,R(q),[3,4]);case 2:return[4,e.json()];case 3:(t=s.sent()).learnedWords=1,t.optional.sprintDayGuess||t.optional.sprintAllDayWords||t.optional.sprintMaxGuessed||(t.optional.sprintDayGuess=1,t.optional.sprintAllDayWords=1,t.optional.sprintMaxGuessed=1),n=Number(t.optional.sprintAllDayWords),o=Number(t.optional.sprintDayGuess),i=0,"number"==typeof t.optional.sprintMaxGuessed&&(i=Math.max(a,t.optional.sprintMaxGuessed)),t.optional=r?{sprintDayGuess:o+=1,sprintAllDayWords:n+=1,sprintMaxGuessed:i}:{sprintDayGuess:o,sprintAllDayWords:n+=1,sprintMaxGuessed:i},R({learnedWords:t.learnedWords,optional:t.optional}),s.label=4;case 4:return[2]}}))})))}function de(e,t){return e<t}function pe(){se.src="./assets/audio/correct.mp3",setTimeout((function(){se.play()}));var e=Number(M(oe.CorrectWord));x(oe.CorrectWord,(e+=1).toString())}function fe(){se.src="./assets/audio/wrong3.mp3",setTimeout((function(){se.play()}));var e=Number(M(oe.WrongWord));x(oe.WrongWord,(e+=1).toString())}function ve(e,t){0===t?e.forEach((function(e){e.classList.remove("active")})):1===t?(e.forEach((function(e){e.classList.remove("active")})),e.forEach((function(e){Number(e.id.slice(-1))===t&&e.classList.add("active")}))):e.forEach((function(e){Number(e.id.slice(-1))===t&&e.classList.add("active")}))}function he(e,t){ue=0,x(oe.CorrectWord,oe.Count),x(oe.WrongWord,oe.Count),x(oe.GuessedWord,oe.Count);var n=0,r=0,a=r,o=M(oe.EnglishWords),i=M(oe.RussianWords),s=e.querySelector(oe.Image),u=e.querySelector("#word-en"),l=e.querySelector("#word-ru");function d(){var e=Math.floor(Math.random()*i.length);a=e%3==0?Math.floor(Math.random()*i.length):r,s.src="".concat(v).concat(o[r].image),u.innerHTML="".concat(o[r].word),l.innerHTML="".concat(i[a].word)}function p(e){switch(e){case"word-true":o[r].id===i[a].id?(n++,ue++,n>=0&&(ce=Math.max(ce,n)),pe(),s=Number(M(oe.GuessedWord)),x(oe.GuessedWord,(s+=1).toString()),le(o[r].id,!0,n),ve(t,ue),3===ue&&(ue=0)):(n=0,ue=0,fe(),le(o[r].id,!1,n),ve(t,ue)),de(++r,o.length)&&d();break;case"word-false":o[r].id!==i[a].id?(n++,ue++,pe(),le(o[r].id,!0,n),ve(t,ue),3===ue&&(ue=0)):(n=0,ue=0,fe(),le(o[r].id,!1,n),ve(t,ue)),r++}var s;de(r,i.length)?d():Ht(c.SprintStatiD)}e.addEventListener("click",(function(e){var t=e.target.id;"word-true"!==t&&"word-false"!==t||p(t)}));var f=e.querySelector("#word-true"),h=e.querySelector("#word-false");S.onkeydown=function(e){if(S.classList.contains("active")||window.location.hash.slice(1)!==c.SprintID||!0===e.repeat)e.stopPropagation();else switch(e.stopPropagation(),e.key){case"ArrowRight":e.preventDefault(),e.stopPropagation(),p("word-true"),f.classList.add("active"),setTimeout((function(){f.classList.remove("active")}),200);break;case"ArrowLeft":e.preventDefault(),e.stopPropagation(),p("word-false"),h.classList.add("active"),setTimeout((function(){h.classList.remove("active")}),200)}},d()}var me=function(e,t){var n=[],r=[];"number"==typeof t?(x(u.numGamePage,["".concat(t)]),U(e,t)):(x(u.numGamePage,[]),U(e)),setTimeout((function(){M(u.allWords).forEach((function(e){var t={},a={};t.id=e.id,t.word=e.word,t.image=e.image,a.id=e.id,a.word=e.wordTranslate,n.push(t),r.push(a)})),x(oe.EnglishWords,n),x(oe.RussianWords,r)}),6e3)};function ge(e){var t=0;if(Number(e.key)>0&&Number(e.key)<=6){switch(e.key){case"1":t=0;break;case"2":t=1;break;case"3":t=2;break;case"4":t=3;break;case"5":t=4;break;case"6":t=5}return t}}var be=document.querySelector(".header");function ye(e){T.innerHTML="";var t=f("div",T,["sprint","sprint__game-preload"]);f("div",t,["spinner"]);var n=setTimeout((function(){0===p(u.allWords).length?Ht(c.NoWords):Ht(e)}),7e3);be.addEventListener("click",(function(e){var t=e.target;"logo"!==t.id&&"header__nav-link"!==t.classList[0]||clearTimeout(n)}))}var we=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},ke=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Le=[];M(s.UserData);function _e(e){return we(this,void 0,void 0,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"words/").concat(e))];case 1:return 401!==(t=n.sent()).status?[3,3]:[4,It.getNewTokens()];case 2:n.sent(),_e(e),n.label=3;case 3:return[4,t.json()];case 4:return[2,n.sent()]}}))}))}var We=function(e,t){return we(void 0,void 0,void 0,(function(){var n;return ke(this,(function(r){switch(r.label){case 0:return void 0===(a=[{key:"page",value:t},{key:"group",value:e}])&&(a=[]),[4,_e(a.length?"?".concat(a.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")):"")];case 1:return n=r.sent(),Le.push(n),x("allListWords",Le.flat()),[2]}var a}))}))};function Te(e,t){return we(this,void 0,void 0,(function(){var n,r;return ke(this,(function(a){if(x("allListWords",[]),Le=[],n=Math.floor(30*Math.random()),t&&(n=t),n>=5)for(r=n-5;r<n;r++)We(e,r);else if(n<5&&n>0)for(r=n-n;r<n;r++)We(e,r);else We(e,n);return[2]}))}))}var Se;!function(e){e.CorrectWord="correctWords",e.GuessedWord="guessedWords",e.WrongWord="wrongWords",e.CurrentStep="currentStep",e.Image="#game-img",e.Count="0",e.MainGameArray="mainGameArray"}(Se||(Se={}));var xe=new Audio,Me=new Audio;function Ge(e){return Math.floor(Math.random()*e)}var Ae=function(e,t){var n=[];"number"==typeof t?(x(u.numGamePage,["".concat(t)]),Te(e,t)):(x(u.numGamePage,[]),Te(e)),setTimeout((function(){n=M(u.allWords),x(Se.MainGameArray,function(e){for(var t,n=[],r=0;r<20;r++){if(0===n.length)t=e[Ge(20)];else do{t=e[Ge(20)]}while(-1!==n.findIndex((function(e){return e.word.id===t.id})));var a=[t.wordTranslate],o="";do{o=e[Ge(20)].wordTranslate,a.includes(o)||a.push(o)}while(a.length<5);a.sort((function(){return Math.random()-.5})),n.push({word:t,falseWords:a})}return n}(n))}),6e3)};function De(e){var t=document.querySelector(".image-container"),n=document.querySelector(".audio-button"),r=document.querySelector(".english-word");e?(t.classList.add("active"),n.classList.add("move"),r.classList.add("active")):(t.classList.remove("active"),n.classList.remove("move"),r.classList.remove("active"))}function Ee(){var e=Number(M(Se.CurrentStep)),t=M(Se.MainGameArray);document.querySelector(".btn-field").classList.remove("disabled"),De(!1),e>=t.length&&Ht(c.AudioGameStatistic);var n=document.querySelector(".image-container img"),r=document.querySelector(".english-word"),a=document.querySelectorAll(".btn-choice");n.src="".concat(v).concat(t[e].word.image),r.innerText="".concat(t[e].word.word),t[e].falseWords.forEach((function(e,t){a[t].innerText=e})),Me.src="".concat(v).concat(t[e].word.audio),Me.autoplay=!0}function Ie(e){var t=Number(M(Se.CurrentStep)),n=M(Se.MainGameArray),r=Number(M(Se.CorrectWord)),a=Number(M(Se.WrongWord)),o=Number(M(Se.GuessedWord)),i=document.querySelector(".btn-field");e.target.classList.contains("btn-choice")?(De(!0),n[t].word.wordTranslate===e.target.innerText?(xe.src="./assets/audio/correct.mp3",setTimeout((function(){xe.play()})),r+=1,o+=1):(xe.src="./assets/audio/wrong3.mp3",setTimeout((function(){xe.play()})),a+=1,o+=1),t+=1,i.classList.add("disabled")):e.target.classList.contains("next-skip-btn")&&(a+=1,o+=1,t+=1,x(Se.CurrentStep,"".concat(t)),x(Se.CorrectWord,"".concat(r)),x(Se.WrongWord,"".concat(a)),x(Se.GuessedWord,"".concat(o)),Ee()),x(Se.CurrentStep,"".concat(t)),x(Se.CorrectWord,"".concat(r)),x(Se.WrongWord,"".concat(a)),x(Se.GuessedWord,"".concat(o))}var He=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Ne(){return He(this,void 0,void 0,(function(){var e,t,n,r;return Pe(this,(function(a){return e=d("currentGroup","0"),t=d("currentPage","0"),n=p("userDataBasic"),r=f("div",void 0,["wrapper-page-textbook"],{id:"wrapper-page-textbook"}),n.userId?function(e,t,n){te(this,void 0,void 0,(function(){var r,a,o,i,s=this;return ne(this,(function(c){switch(c.label){case 0:o=p("userDataBasic"),c.label=1;case 1:return c.trys.push([1,6,,7]),Number(e)<6?[4,k(o,+e,+t)]:[3,3];case 2:return a=c.sent(),[3,5];case 3:return[4,_(o)];case 4:a=c.sent(),c.label=5;case 5:return[3,7];case 6:return c.sent(),l("userDataBasic","{}"),document.querySelector("#group-7").classList.add("display-none"),document.querySelector(".game__links").classList.add("display-none"),ae(e,t,n),[2];case 7:return a.forEach((function(e){return te(s,void 0,void 0,(function(){var t,a,o,i,s,c,u,l;return ne(this,(function(d){switch(d.label){case 0:return t={id:e._id,group:e.group,page:e.page,word:e.word,image:e.image,audio:e.audio,audioMeaning:e.audioMeaning,audioExample:e.audioExample,textMeaning:e.textMeaning,textExample:e.textExample,transcription:e.transcription,wordTranslate:e.wordTranslate,textMeaningTranslate:e.textMeaningTranslate,textExampleTranslate:e.textExampleTranslate},a="",e.userWord&&("hard"===e.userWord.difficulty?a="hard":"easy"===e.userWord.difficulty&&"true"===e.userWord.optional.statusLearn&&(a="learned")),o=(null===(s=e.userWord)||void 0===s?void 0:s.optional.gameAllGuessWord)?null===(c=e.userWord)||void 0===c?void 0:c.optional.gameAllGuessWord:0,i=(null===(u=e.userWord)||void 0===u?void 0:u.optional.gameMistake)?null===(l=e.userWord)||void 0===l?void 0:l.optional.gameMistake:0,[4,re(t,a,o,i)];case 1:return r=d.sent(),e.userWord&&(r.setAttribute("data-wordUser","true"),"hard"===e.userWord.difficulty?r.setAttribute("data-WordHard","true"):"easy"===e.userWord.difficulty&&"true"===e.userWord.optional.statusLearn&&r.setAttribute("data-WordLearned","true")),n.append(r),[2]}}))}))})),"6"===p(u.numGroup)&&(i=T.querySelector("#wrapper-page-textbook"),f("h1",i,["title__group"]).innerHTML="Сложные слова / Hard words"),[2]}}))}))}(e,t,r):ae(e,t,r),[2,r]}))}))}function qe(){return He(this,void 0,void 0,(function(){var e,t,n,r;return Pe(this,(function(a){switch(a.label){case 0:return e=document.querySelector("#page-textbook"),[4,Ne()];case 1:return t=a.sent(),e.innerHTML="",e.append(t),n=d("currentGroup","0"),r=document.querySelector("#nav-textbook"),6===Number(n)?r.classList.add("display-none"):r.classList.remove("display-none"),[2]}}))}))}function je(e){var t=e;t.disabled=!0,t.classList.add("nav-button_disabled"),t.classList.remove("nav-button_enabled")}function Be(e){var t=e;t.disabled=!1,t.classList.remove("nav-button_disabled"),t.classList.add("nav-button_enabled")}function Ce(e){return He(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,c,u;return Pe(this,(function(l){switch(l.label){case 0:return t=document.querySelector("#first"),n=document.querySelector("#prev"),r=document.querySelector("#next"),a=document.querySelector("#last"),Be(r),Be(a),Be(t),Be(n),e<=0&&(je(t),je(n)),e+1>=30&&(je(r),je(a)),(o=document.querySelector("#pageNumber")).innerText=String(e+1),i=d("currentGroup","0"),(s=p("userDataBasic")).userId?[4,W(s,Number(i),e)]:[3,2];case 1:c=l.sent(),u=document.querySelectorAll(".game__link"),20===c?(o.classList.add("learnPage"),u.forEach((function(e){var t=e;t.disabled=!0,t.classList.add("game__link-disabled")}))):(o.classList.remove("learnPage"),u.forEach((function(e){var t=e;t.disabled=!1,t.classList.remove("game__link-disabled")}))),l.label=2;case 2:return[2]}}))}))}function Oe(e){var t="prev"===e.currentTarget.id?+d("currentPage","0")-1:0;l("currentPage",String(t)),qe(),Ce(t)}function Ue(e){var t="next"===e.currentTarget.id?+d("currentPage","0")+1:29;l("currentPage",String(t)),qe(),Ce(t)}function ze(){var e=f("div",void 0,["main-textbook"],{id:"main-textbook"}),t=function(){var e=+d("currentPage","0")+1,t=f("div",void 0,["nav-textbook"],{id:"nav-textbook"}),n=f("button",t,["nav-button"],{id:"first",disabled:"true"});n.innerText="<<";var r=f("button",t,["nav-button"],{id:"prev",disabled:"true"});r.innerText="<",f("button",t,["nav-button"],{id:"pageNumber"}).innerText=String(e);var a=f("button",t,["nav-button","nav-button_enabled"],{id:"next"});a.innerText=">";var o=f("button",t,["nav-button","nav-button_enabled"],{id:"last"});return o.innerText=">>",n.addEventListener("click",Oe),r.addEventListener("click",Oe),a.addEventListener("click",Ue),o.addEventListener("click",Ue),t}();return e.append(t),f("div",e,["page-textbook"],{id:"page-textbook"}),e}function Re(){var e=f("div",void 0,["textbook"],{id:"textbook"}),t=function(){for(var e=f("div",void 0,["group"]),t=f("div",e,["group__buttons"]),n=p("userDataBasic").userId?7:6,r=function(e){var n=f("button",t,["group__link","group-".concat(e)],{id:"group-".concat(e)});if(n.innerText=String(e),p("btnActive")){var r=p("btnActive");n.id===r[0]&&n.classList.add("active")}else 1===e&&n.classList.add("active");n.addEventListener("click",(function(n){t.querySelectorAll(".group__link").forEach((function(e){e.classList.remove("active")}));var r=n.target;r.classList.add("active"),x("btnActive",[r.id,"active"]),l("currentGroup",String(e-1)),l("currentPage",String(0)),Ce(0),qe()}))},a=1;a<=n;a++)r(a);var o=f("div",e,["game__links"]),i=f("button",o,["game__links-sprint","game__link"],{id:"sprint-page"}),s=f("button",o,["game__links-audio","game__link"],{id:"audio-game"});return i.innerHTML="Sprint",s.innerHTML="Audio-game",o.addEventListener("click",(function(e){var t=e.target,n=Number(p("currentGroup")),r=Number(p("currentPage"));t.id===c.SprintID?(me(n,r),ye(c.SprintID)):t.id===c.AudioGame&&(Ae(n,r),ye(c.AudioGame))})),e}(),n=ze();return e.append(t),e.append(n),e}var Je,Fe=function(e,t,n,r){var a,o=document.createElement(e);(n&&(a=o.classList).add.apply(a,n),r)&&Object.keys(r).forEach((function(e){o.setAttribute(e,r[e])}));return t&&t.append(o),o},Ye=document.querySelector("#header-menu"),$e=document.querySelector(".header");!function(e){e.SprintPerulation='<span>Правила игры</span> очень просты: вам нужно дать ответ -  совпадает или нет предложенный перевод слова.<br>Играть можно мышкой или стрелками "влево"/"вправо"',e.PreButton="Для старта игры выберите уровень сложности"}(Je||(Je={}));var Ke,Ze=[];function Ve(e,t){for(var n=1;n<t+1;n++)if(t>Ke.Two){var r=Fe("a",e,["sprint__btn-group"],{id:"words-".concat(n)});r.href="#sprint-page",r.innerHTML="".concat(n)}else{var a=Fe("button",e,["game__btns-choise--".concat(n%t==0)],{id:"word-".concat(n%t==0)});a.innerHTML=n%t==0?"Yes":"No"}}!function(e){e[e.Two=2]="Two",e[e.Six=6]="Six"}(Ke||(Ke={}));var Qe,Xe,et,tt,nt=function(){T.innerHTML="";var e=Fe("div",T,["sprint","sprint__page"],{id:"sprint-page"}),t=Fe("div",e,["sprint__game","game"]),n=Fe("div",t,["game__timer"]);n.innerHTML="1:00";var r=Fe("div",t,["game__audio","sound-on"]);r.style.backgroundImage="url(./assets/img/sound-on.png)",r.style.backgroundImage="url(./assets/img/sound-on.png)";var a=Fe("div",t,["game__img-block"]);Fe("img",a,["game__img"],{id:"game-img"});var o=Fe("div",t,["game__dotted"]),i=Fe("div",t,["game__words"]);Fe("div",i,["game__word-en"],{id:"word-en"}),Fe("div",i,["game__word-ru"],{id:"word-ru"});var s=Fe("div",t,["game__btns-choise"]);!function(e){Ze=[];for(var t=1;t<4;t++){var n=Fe("div",e,["game__dotted-".concat(t),"dotted"],{id:"game-dot-".concat(t)});Ze.push(n)}}(o),Ve(s,Ke.Two);var u=59;!function(e){e.addEventListener("click",(function(){e.classList.toggle("sound-on"),e.classList.contains("sound-on")?(se.volume=1,e.style.backgroundImage="url(./assets/img/sound-on.png)"):(se.volume=0,e.style.backgroundImage="url(./assets/img/sound-off.png)")}))}(r);var l=setInterval((function(){var e=window.location.hash.slice(1);u>=10&&(n.innerHTML="0:".concat(u)),u<10&&(n.innerHTML="0:0".concat(u)),0===u&&(clearInterval(l),Ht(c.SprintStatiD)),e!==c.SprintID&&clearInterval(l),u-=1}),1e3);Ye.addEventListener("click",(function(){clearInterval(l)})),$e.addEventListener("click",(function(e){"logo"===e.target.id&&clearInterval(l)})),$e.removeEventListener("click",nt),Ye.removeEventListener("click",nt),he(t,Ze)};function rt(){T.innerHTML="";var e=Fe("div",T,["sprint__statistic"],{id:"srpint-statistic"});Fe("h1",e,["sprint__statistic-title"]).innerHTML="Statistic - Sprint game",Fe("div",e,["sprint__statistic-correct"]),Fe("div",e,["sprint__statistic-wrong"]),Fe("div",e,["sprint__statistic-words"]),Fe("div",e,["sprint__statistic-percent"]),Fe("div",e,["sprint__statistic-percent--words"]);var t=Fe("div",e,["sprint__statistic-buttons"]),n=Fe("a",t,["sprint__btn-close--stat-preload"]),r=Fe("a",t,["sprint__btn-close--stat-main"]);n.href="#".concat(c.PreloaSprintID),r.href="#".concat(c.MainID),n.innerHTML="Close page",r.innerHTML="Main page",n.addEventListener("click",(function(){Ht(c.PreloaSprintID)})),r.addEventListener("click",(function(){Ht(c.MainID)})),function(e){var t=Number(M(oe.CorrectWord)),n=Number(M(oe.WrongWord)),r=Number(M(oe.GuessedWord)),a=t+n,o=e.querySelector(".sprint__statistic-correct"),i=e.querySelector(".sprint__statistic-wrong"),s=e.querySelector(".sprint__statistic-words"),c=e.querySelector(".sprint__statistic-percent"),u=e.querySelector(".sprint__statistic-percent--words");o.innerHTML="Правильных ответов - ".concat(t),i.innerHTML="Неправильных ответов - ".concat(n),s.innerHTML="Угадано слов - ".concat(r),c.innerHTML="Количество ответов без ошибок - ".concat(ce),u.innerHTML="Процент отгаданных слов - ".concat(Math.trunc(r/a*100),"%")}(e)}function at(e,t){if(e){var n="";switch(t){case Qe.TitleMain:n=Qe.TitleMain,e.innerHTML="".concat(et.Title);break;case Qe.SubTitle:n=Qe.SubTitle,e.innerHTML="".concat(et.Subtitle);break;case Qe.Description:n=Qe.Description,e.innerHTML="".concat(et.DescriptionText);break;case Xe.Zero:n=Qe.Games,e.innerHTML="".concat(et.Games);break;case Xe.One:n=Qe.TextBook,e.innerHTML="".concat(et.TextBook);break;case Xe.Two:n=Qe.Statistic,e.innerHTML="".concat(et.Statistics);break;case Xe.Three:n=Qe.Time,e.innerHTML="".concat(et.Time)}e.id="main-".concat(n)}}function ot(e,t){if(e){var n="";switch(t){case Xe.Zero:n=Qe.Kornull,e.innerHTML="".concat(tt.Kornul);break;case Xe.One:n=Qe.Maxlablearn,e.innerHTML="".concat(tt.Maxlablearn);break;case Xe.Two:n=Qe.Svetlana85,e.innerHTML="".concat(tt.Svetlana85)}e.id="main-".concat(n)}}!function(e){e.TitleMain="title",e.SubTitle="subtitle",e.Description="description",e.TextBook="text-book",e.Statistic="statistic",e.Games="games",e.Time="time",e.TitleTeam="title-team",e.Kornull="kornull",e.Maxlablearn="maxlablearn",e.Svetlana85="svetlana85"}(Qe||(Qe={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Max=4]="Max"}(Xe||(Xe={})),function(e){e.Title="Hello my dear friend!",e.Subtitle="Немного о самом приложении",e.DescriptionText="Рады видеть Вас в нашем приложении для изучения Английского языка. Вас ждет лучший учебник который можно себе представить - в котором вы можете изучить новые слова и фразы.</br>И это всё БЕСПЛАТНО!",e.Games="Игры - вас ждут две увлекательные игры со словами - на время, и на восприятие речи на слух.",e.TextBook="Учебник - здесь вы можете послушать как произносятся слова на языке носителя, отметить трудные для себя слова и выражения, и конечно же выучить их!",e.Statistics="Статистика - вы увидете свою статистику по изученным словам, прогресс изученых слов за текущий отрезок времени.",e.Time="Для занятий требуется всего каких-то 14 минут 46 секунд в день!"}(et||(et={})),function(e){e.Kornul='<h3 class="team__name"><a class="team__name-link" href="https://github.com/Kornull" target="_blank">Kornull</a></h3>\n  <ul class="team__description">\n  <li class="team__role">Teamlead,</li>\n  <li class="team__tasks">Tasks:\n   <ul class="team__task">\n    <li>Main-page</li>\n    <li>Sprint-game</li>\n   </ul>\n  </li>\n </ul>',e.Maxlablearn='<h3 class="team__name"><a class="team__name-link" href="https://github.com/maxlablearn" target="_blank">Maxlablearn</a></h3>\n  <ul class="team__description">\n <li class="team__role">Developer,</li>\n <li class="team__tasks">Tasks:\n  <ul class="team__task">\n   <li>Backend</li>\n   <li>Audio-game</li>\n   <li>Authorization</li>\n  </ul>\n </li>\n</ul>',e.Svetlana85='<h3 class="team__name"><a class="team__name-link" href="https://github.com/svetlana-85" target="_blank">Svetlana-85</a></h3>\n  <ul class="team__description">\n<li class="team__role">Developer,</li>\n<li class="team__tasks">Tasks:\n <ul class="team__task">\n  <li>Text-book</li>\n  <li>Statistic</li>\n </ul>\n</li>\n</ul>'}(tt||(tt={}));const it=function(){var e=Fe("div",T,["main__page"],{id:"main-page"}),t=Fe("div",e,["main__page-greetings"]),n=Fe("h1",t,["main__page-title"]),r=Fe("div",t,["main__page-description"]),a=Fe("h2",t,["main__page-subtitle"]);return at(n,Qe.TitleMain),at(a,Qe.SubTitle),at(r,Qe.Description),e.appendChild(function(){for(var e=Fe("div",T,["main__page-about"]),t=Fe("ul",e,["main__list"]),n=Xe.Zero;n<Xe.Max;n++){var r=Fe("li",t,["main__list-description"]);at(Fe("div",r,["list__text"]),n),Fe("img",r,["list__image"]).src="./assets/img/".concat(n,".png")}return e}()),Fe("h2",e,["main__list-title-team"],{id:"title-team"}).innerHTML="О команде",e.appendChild(function(){for(var e=Fe("div",T,["main__page-team"]),t=Fe("ul",e,["main__list--team"]),n=Xe.Zero;n<Xe.Max-1;n++){var r=Fe("li",t,["main__list-team"]);ot(Fe("div",r,["list__text-team"]),n);var a=Fe("div",r,["list__image-team"]);Fe("img",a,["list__images-team"]).src="./assets/img/team-".concat(n,".jpg")}return e}()),e};var st=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},ct=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function ut(e){var t=document.querySelector("#sign-in-btn"),n=document.querySelector("#sign-up-btn"),r=document.querySelector('label input[name="name"]'),a=document.querySelector(".label__text.name");"sign-in-btn"===e.id?(t.classList.add("active"),n.classList.remove("active"),r.setAttribute("disabled","disabled"),a.classList.add("disabled")):(t.classList.remove("active"),n.classList.add("active"),r.removeAttribute("disabled"),a.classList.remove("disabled"))}function lt(){var e=document.querySelector(".popup__bg");null==e||e.remove(),document.location.reload()}function dt(e){var t=document.querySelector(".popup-message");document.querySelector(".popup-message__text").innerText=e,t.classList.remove("disabled"),setTimeout((function(){t.classList.add("disabled")}),3500)}function pt(e,t,n,r,a,o){var i=document.createElement("label");return Fe("input",i,void 0,o?{type:e,name:t,disabled:"disabled"}:{type:e,name:t}),Fe("div",i,n).innerText=r,a&&a.append(i),i}function ft(){var e=Fe("div",T,["popup__bg","active"]),t=Fe("form",e,["popup","active"]);pt("text","name",["label__text","name","disabled"],"Введите имя",t,!0),pt("email","email",["label__text"],"Введите адрес электронной почты",t,!1),pt("password","password",["label__text"],"Введите пароль",t,!1);var n=Fe("div",t,["sign"]),r=Fe("button",n,["btn","active"],{type:"button",id:"sign-in-btn"});r.innerText="Войти",r.addEventListener("click",(function(e){return ut(e.target)}));var a=Fe("button",n,["btn"],{type:"button",id:"sign-up-btn"});a.innerText="Регистрация",a.addEventListener("click",(function(e){return ut(e.target)}));var o=Fe("button",t,["btn"],{type:"button",id:"submit"});o.innerText="Отправить";var i=Fe("div",t,["popup-message","disabled"]);return Fe("span",i,["popup-message__text"]).innerText="Что-то пошло не так...",o.addEventListener("click",(function(){return function(){var e;return st(this,void 0,void 0,(function(){var t,n,r,a;return ct(this,(function(o){switch(o.label){case 0:return t=document.querySelector('input[name="name"]'),n=document.querySelector('input[name="email"]'),r=document.querySelector('input[name="password"]'),(null===(e=document.querySelector("#sign-in-btn"))||void 0===e?void 0:e.classList.contains("active"))?[4,It.signIn(n.value,r.value)]:[3,2];case 1:return 200===(a=o.sent())?lt():dt(403===a?"Неверный e-mail или пароль":"Неизвестная ошибка входа"),[3,4];case 2:return[4,It.createUser(t.value,n.value,r.value)];case 3:200===(a=o.sent())?lt():dt(422===a?"Неверный e-mail или пароль":"Неизвестная ошибка регистрации"),o.label=4;case 4:return[2]}}))}))}()})),e.addEventListener("click",(function(e){t.contains(e.target)||lt()})),t}const vt=function(){var e,t,n;M(s.UserData).userId?(e=Fe("div",T,["popup__bg","active"]),t=Fe("form",e,["popup","active"]),(n=Fe("button",t,["btn"],{type:"button",id:"log-out"})).innerText="Выйти",n.addEventListener("click",(function(){It.logOut(),lt()})),e.addEventListener("click",(function(e){t.contains(e.target)||lt()}))):ft()};var ht=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},mt=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};const gt=function(){function e(){this.userName="",this.userEmail="",this.userId="",this.token="",this.refreshToken=""}return e.prototype.createUser=function(e,t,n){return ht(this,void 0,void 0,(function(){var r,a;return mt(this,(function(o){switch(o.label){case 0:return[4,fetch("".concat(v,"users"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})})];case 1:return 200!==(r=o.sent()).status?[3,3]:[4,r.json()];case 2:a=o.sent(),this.userName=a.name,this.userEmail=a.email,o.label=3;case 3:return[2,Promise.resolve(r.status)]}}))}))},e.prototype.signIn=function(e,t){return ht(this,void 0,void 0,(function(){var n,r;return mt(this,(function(a){switch(a.label){case 0:return[4,fetch("".concat(v,"signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})})];case 1:return 200!==(n=a.sent()).status?[3,3]:[4,n.json()];case 2:r=a.sent(),this.userEmail=e,this.userId=r.userId,this.token=r.token,this.refreshToken=r.refreshToken,this.userName=r.name,localStorage.setItem("userDataBasic",JSON.stringify({userId:this.userId,token:this.token,name:this.userName})),a.label=3;case 3:return[2,Promise.resolve(n.status)]}}))}))},e.prototype.logOut=function(){this.userEmail="",this.userId="",this.token="",this.refreshToken="",this.userName="",localStorage.setItem("userDataBasic",JSON.stringify({}))},e.prototype.getNewTokens=function(){return ht(this,void 0,void 0,(function(){var e,t;return mt(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(this.userId,"/tokens"),{method:"GET",headers:{Authorization:"Bearer ".concat(this.refreshToken),Accept:"application/json","Content-Type":"application/json"}})];case 1:return 200!==(e=n.sent()).status?[3,3]:[4,e.json()];case 2:return t=n.sent(),this.token=t.token,this.refreshToken=t.refreshToken,this.userId=t.userId,this.userName=t.name,console.log(" -------- token refreshed successfully -----------"),localStorage.setItem("userDataBasic",JSON.stringify({userId:this.userId,token:this.token,name:this.userName})),[3,4];case 3:this.logOut(),n.label=4;case 4:return[2]}}))}))},e}();var bt;function yt(){T.innerHTML="";var e=Fe("div",T,["audio-game"]),t=Fe("div",e,["view"]),n=Fe("div",t,["image-container"]);Fe("img",n);var r=Fe("div",t,["audio-field"]),a=Fe("button",r,["audio-button"]);a.innerHTML='<svg class="audio-svg-icon" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>',Fe("p",r,["english-word"]).innerText="computer",function(e,t){for(var n=Fe("div",e,["btn-field"]),r=1;r<t+1;r++){var a=Fe("div",n,["btn-wrapper"]);Fe("div",a,["btn-number"]).innerText="".concat(r),Fe("button",a,["btn-choice"]).id="word-".concat(r)}}(e,5),Fe("button",e,["next-skip-btn"]).innerText="дальше",x(Se.CurrentStep,"0"),e.addEventListener("click",(function(e){return Ie(e)})),a.addEventListener("click",(function(){return Me.play()})),Ee()}function wt(){x(Se.CorrectWord,"0"),x(Se.WrongWord,"0"),x(Se.GuessedWord,"0"),T.innerHTML="";var e=Fe("div",T,["audio-preload"]);Fe("p",e,["preload-message"]).innerText=bt.gameHeader,function(e,t){for(var n=Fe("div",e,["btn-field"]),r=1;r<t+1;r++){var a=Fe("a",n,["btn-choice-group","group-".concat(r)]);a.innerHTML="".concat(r),a.href="#".concat(c.AudioGame)}}(e,6),Fe("p",e,["game-rules"]).innerHTML=bt.gameRules,e.addEventListener("click",(function(e){var t=Number(e.target.innerText)-1;"btn-choice-group"===e.target.classList[0]&&(e.preventDefault(),ye(c.AudioGame),Ae(t))})),S.onkeydown=function(e){if(S.classList.contains("active")||!0===e.repeat)e.stopPropagation();else{var t=ge(e);void 0!==t&&(ye(c.SprintID),Ae(t))}}}function kt(){T.innerHTML="";var e=Fe("div",T,["audio__statistic"],{id:"audio-statistic"});Fe("h1",e,["audio__statistic-title"]).innerHTML="Статистика - Аудиовызов",Fe("div",e,["audio__statistic-correct"]),Fe("div",e,["audio__statistic-wrong"]),Fe("div",e,["audio__statistic-words"]),Fe("div",e,["audio__statistic-percent--words"]);var t=Fe("div",e,["audio__statistic-buttons"]),n=Fe("a",t,["audio__btn-close--stat-preload"]),r=Fe("a",t,["audio__btn-close--stat-main"]);n.href="#".concat(c.AudioGamePreload),r.href="#".concat(c.MainID),n.innerHTML="закрыть",r.innerHTML="главная",n.addEventListener("click",(function(){Ht(c.PreloaSprintID)})),r.addEventListener("click",(function(){Ht(c.MainID)})),function(e){var t=Number(M(Se.CorrectWord)),n=Number(M(Se.WrongWord)),r=Number(M(Se.GuessedWord)),a=t+n,o=e.querySelector(".audio__statistic-correct"),i=e.querySelector(".audio__statistic-wrong"),s=e.querySelector(".audio__statistic-words"),c=e.querySelector(".audio__statistic-percent--words");o.innerHTML="Правильных ответов - ".concat(t),i.innerHTML="Неправильных ответов - ".concat(n),s.innerHTML="Всего ответов - ".concat(r),c.innerHTML="Процент отгаданных слов - ".concat(Math.trunc(t/a*100),"%")}(e)}!function(e){e.gameHeader="Для старта игры выберите уровень сложности",e.gameRules="<span>Правила игры</span> очень просты: вам нужно выбрать правильный перевод прослушанного слова"}(bt||(bt={}));var Lt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},_t=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Wt(e){return Lt(this,void 0,void 0,(function(){var t;return _t(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(v,"users/").concat(e.userId,"/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json"}})];case 1:return 404===(t=n.sent()).status?[2,{learnedWords:0,optional:{sprintDayGuess:0,sprintAllDayWords:0,sprintMaxGuessed:0,audioDayGuess:0,audioAllDayWords:0,audioMaxGuessed:0}}]:[4,t.json()];case 2:return[2,n.sent()]}}))}))}function Tt(e){return Lt(this,void 0,void 0,(function(){var t,n;return _t(this,(function(r){switch(r.label){case 0:return t="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),[4,fetch("".concat(v,"users/").concat(e.userId,'/aggregatedWords?filter={"$and":[{"userWord.difficulty":"easy", "userWord.optional.statusLearn": "true", "userWord.optional.dataLearn": "').concat(t,'"}]}&wordsPerPage=3600'),{method:"GET",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json"}})];case 1:return 404===(n=r.sent()).status?[2,0]:[4,n.json()];case 2:return[2,r.sent()[0].totalCount[0].count]}}))}))}var St=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},xt=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Mt=["Аудиовызов","Спринт","Статистика по словам"],Gt=["Количество угаданных слов за день","Процент правильных ответов","Лучшая серия"],At=["Количество угаданных слов за день","Количество изученных слов за день","Процент правильных ответов за день"];function Dt(e,t,n){var r=Fe("div",void 0,["blockStat"]);Fe("h5",r,["blockStatTitle"]).innerHTML=e;var a=Fe("table",r,["statisticTable"]);return t.forEach((function(e,t){var r=Fe("tr",a,["statisticTableRow"]);Fe("td",r,["statisticRowTitle"]).innerHTML=e,Fe("td",r,["statisticValue"]).innerHTML=String(n[t])})),r}function Et(){return St(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,s,c,u,l,d;return xt(this,(function(f){switch(f.label){case 0:if(T.innerHTML="",Fe("h2",T,["h2"]).innerText="Статистика",e=Fe("div",T,["statistics"]),!(t=p("userDataBasic")).userId)return[3,9];n=void 0,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Wt(t)];case 2:return n=f.sent(),[3,4];case 3:return f.sent(),n={learnedWords:0,optional:{sprintDayGuess:0,sprintAllDayWords:0,sprintMaxGuessed:0,audioDayGuess:0,audioAllDayWords:0,audioMaxGuessed:0}},[3,4];case 4:r=void 0,f.label=5;case 5:return f.trys.push([5,7,,8]),[4,Tt(t)];case 6:return r=f.sent(),[3,8];case 7:return f.sent(),r=0,[3,8];case 8:return a=[n.optional.audioDayGuess?n.optional.audioDayGuess:0,n.optional.audioAllDayWords&&n.optional.audioDayGuess?Math.round(n.optional.audioDayGuess/n.optional.audioAllDayWords*100):0,n.optional.audioMaxGuessed?n.optional.audioMaxGuessed:0,n.optional.audioAllDayWords?n.optional.audioAllDayWords:0],o=[n.optional.sprintDayGuess?n.optional.sprintDayGuess:0,n.optional.sprintDayGuess&&n.optional.sprintAllDayWords?Math.round(n.optional.sprintDayGuess/n.optional.sprintAllDayWords*100):0,n.optional.sprintMaxGuessed?n.optional.sprintMaxGuessed:0,n.optional.sprintAllDayWords?n.optional.sprintAllDayWords:0],i=Dt(Mt[0],Gt,a),e.append(i),s=Dt(Mt[1],Gt,o),e.append(s),c=(a[0]?a[0]:0)+(o[0]?o[0]:0),l=(u=(a[3]?a[3]:0)+(o[3]?o[3]:0))?Math.round(c/u*100):0,d=Dt(Mt[2],At,[a[0]+o[0],r,l]),e.append(d),[3,10];case 9:e.append((v="Статистика доступна только авторизованному пользователю",(h=Fe("span",void 0,["statisticMessage"])).innerHTML=v,h)),f.label=10;case 10:return[2]}var v,h}))}))}var It=new gt;function Ht(e){var t,n,r,a=document.querySelector(".footer");if(null!==e){switch(T.innerHTML="",e===c.SprintID||e===c.PreloaSprintID?a.style.display="none":a.style.display="flex",e){case c.MainID:it();break;case c.PreloaSprintID:!function(){T.innerHTML="";var e=Fe("div",T,["sprint","sprint__game-preload"],{id:"preload-sprint"});Fe("h1",e,["sprint__title"]).innerHTML=Je.PreButton,e.addEventListener("click",(function(e){var t=e.target,n=t.id;"sprint__btn-group"===t.classList[0]&&(e.preventDefault(),ye(c.SprintID),me(Number(n.split("").slice(-1))-1))})),S.onkeydown=function(e){if(S.classList.contains("active")||!0===e.repeat)e.stopPropagation();else{var t=ge(e);void 0!==t&&(ye(c.SprintID),me(t))}};var t=Fe("div",e,["sprint__btns"]);Fe("div",e,["sprint__regulation"],{id:"regulation-sprint"}).innerHTML="".concat(Je.SprintPerulation),Ve(t,Ke.Six)}();break;case c.SprintID:nt();break;case c.SprintStatiD:rt();break;case c.AudioGamePreload:wt();break;case c.AudioGame:yt();break;case c.AudioGameStatistic:kt();break;case c.BookID:!function(){var e=document.querySelector("#main"),t=Re();e.append(t),Ce(+d("currentPage","0")),qe(),isNaN(Number(p("currentPage")))&&(x("btnActive",["group-1","active"]),l("currentGroup","0"),l("currentPage","0"))}();break;case c.StatisticId:Et();break;case c.NoWords:t=f("div",T,["no__words"],{id:c.NoWords}),f("div",t,["no__words-text"],{id:c.NoWords}).innerHTML=ie.NoWordsText}window.location.hash=e,x(u.userPage,e)}else Ht(c.MainID);n=document.querySelector(".header__login-icon"),r=document.querySelector(".header__logo-user"),M(s.UserData).userId?(n.style.display="none",r.style.display="block"):(n.style.display="block",r.style.display="none"),document.querySelector("#login").addEventListener("click",vt)}function Pt(e){Ht(e),x(u.userPage,e)}window.addEventListener("hashchange",(function(){var e=window.location.hash.slice(1);"title-team"!==e&&"main-subtitle"!==e&&Ht(e)}));var Nt,qt=document.querySelector("#burger"),jt=document.querySelector("#shadow"),Bt=document.querySelectorAll(".header__nav-link"),Ct=qt.lastChild,Ot=document.querySelector("#header-list"),Ut=document.querySelector("#header-nav"),zt=document.querySelector(".header"),Rt=function(){Ct.classList.remove("active"),Ot.style.right="-100%",Ut.style.right="-100%",jt.style.left="-100%",Bt.forEach((function(e){e.setAttribute("tabindex","-1")})),document.body.classList.remove("active")},Jt=function(){Ct.classList.contains("active")?Rt():(Ct.classList.add("active"),Ot.style.right="0%",Ut.style.right="0%",jt.style.left="0%",document.body.classList.add("active"),qt.blur(),Bt.forEach((function(e){e.setAttribute("tabindex","0")})))};zt.addEventListener("click",(function(e){e.target.id===c.LogoIt&&Pt(c.MainID)})),qt.addEventListener("click",Jt),qt.addEventListener("keydown",(function(e){e.target.classList.contains("header__burger")&&"Enter"===e.key&&Jt()})),jt.addEventListener("click",Jt),Bt.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target;"team"===t.id||"about"===t.id?(p(u.userPage)!==c.MainID&&Pt(c.MainID),e.stopPropagation()):Pt(t.id),null!==e&&"click"===e.type&&Jt()}))})),window.addEventListener("resize",Rt),Nt=localStorage.getItem(u.userPage),localStorage.getItem(u.userPage)?null!=Nt&&Ht(Nt.slice(1,-1)):Ht(null)})()})();